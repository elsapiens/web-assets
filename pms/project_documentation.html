<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product & Manufacturing Management System - Complete Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* ========================================
           CSS VARIABLES & RESET
           ======================================== */
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #eff6ff;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --background-color: #f8fafc;
            --card-background: #ffffff;
            --text-color: #1e293b;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --code-background: #1e293b;
            --sidebar-width: 280px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        /* ========================================
           LAYOUT
           ======================================== */
        .layout {
            display: flex;
            min-height: 100vh;
        }

        /* ========================================
           SIDEBAR
           ======================================== */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--card-background);
            border-right: 1px solid var(--border-color);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            padding: 24px 0;
            z-index: 100;
        }

        .sidebar-header {
            padding: 0 24px 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-header h1 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .sidebar-header p {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .sidebar-nav {
            padding: 16px 0;
        }

        .nav-section {
            margin-bottom: 8px;
        }

        .nav-section-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            padding: 12px 24px 8px;
        }

        .nav-link {
            display: block;
            padding: 8px 24px;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .nav-link:hover {
            background-color: var(--background-color);
            color: var(--primary-color);
        }

        .nav-link.active {
            background-color: var(--primary-light);
            color: var(--primary-color);
            border-left-color: var(--primary-color);
            font-weight: 500;
        }

        /* ========================================
           MAIN CONTENT
           ======================================== */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 40px 60px;
            max-width: 1100px;
        }

        /* ========================================
           TYPOGRAPHY
           ======================================== */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: 16px;
            color: var(--text-color);
        }

        h1 { font-size: 2.25rem; }
        h2 { font-size: 1.75rem; margin-top: 56px; padding-top: 24px; border-top: 1px solid var(--border-color); }
        h3 { font-size: 1.35rem; margin-top: 32px; color: var(--primary-dark); }
        h4 { font-size: 1.1rem; margin-top: 24px; }

        p {
            margin-bottom: 16px;
        }

        strong {
            font-weight: 600;
        }

        /* ========================================
           HERO SECTION
           ======================================== */
        .hero {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 48px 40px;
            border-radius: 16px;
            margin-bottom: 40px;
        }

        .hero h1 {
            font-size: 2rem;
            margin-bottom: 12px;
            color: white;
        }

        .hero p {
            font-size: 1.05rem;
            opacity: 0.9;
            max-width: 650px;
            margin-bottom: 20px;
        }

        .hero-badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 14px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* ========================================
           CARDS
           ======================================== */
        .card {
            background-color: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .card-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
        }

        .card-title {
            font-size: 1.15rem;
            font-weight: 600;
            margin: 0;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        /* ========================================
           FEATURE CARDS
           ======================================== */
        .feature-card {
            background-color: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 20px rgba(37, 99, 235, 0.1);
            transform: translateY(-2px);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 14px;
            font-size: 1.5rem;
        }

        .feature-card h3 {
            font-size: 1.05rem;
            margin: 0 0 8px 0;
        }

        .feature-card p {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin: 0;
        }

        /* ========================================
           TABLES
           ======================================== */
        .table-wrapper {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--card-background);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            font-size: 0.9rem;
        }

        th, td {
            padding: 12px 14px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--background-color);
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            color: var(--text-muted);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background-color: var(--background-color);
        }

        /* ========================================
           CODE BLOCKS
           ======================================== */
        pre {
            background-color: var(--code-background);
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.8rem;
            line-height: 1.6;
        }

        code {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.85rem;
        }

        p code, li code, td code {
            background-color: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            color: var(--primary-color);
            font-size: 0.8rem;
        }

        /* ========================================
           DIAGRAMS
           ======================================== */
        .diagram {
            background-color: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 24px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .diagram pre {
            background-color: transparent;
            color: var(--text-color);
            padding: 0;
            margin: 0;
            font-size: 0.75rem;
            line-height: 1.4;
        }

        /* ========================================
           ALERTS
           ======================================== */
        .alert {
            padding: 16px 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 0.9rem;
        }

        .alert-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .alert-info {
            background-color: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1e40af;
        }

        .alert-success {
            background-color: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
        }

        .alert-warning {
            background-color: #fffbeb;
            border: 1px solid #fde68a;
            color: #92400e;
        }

        .alert-danger {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
        }

        /* ========================================
           LISTS
           ======================================== */
        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        li {
            margin-bottom: 8px;
        }

        /* ========================================
           SECTION DIVIDER
           ======================================== */
        .section-divider {
            height: 1px;
            background-color: var(--border-color);
            margin: 48px 0;
        }

        /* ========================================
           ENTITY DIAGRAM
           ======================================== */
        .er-diagram {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        .entity-box {
            background-color: var(--card-background);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            overflow: hidden;
            font-size: 0.85rem;
        }

        .entity-header {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 14px;
            font-weight: 600;
        }

        .entity-body {
            padding: 12px;
        }

        .entity-field {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.8rem;
        }

        .entity-field:last-child {
            border-bottom: none;
        }

        .field-name {
            font-weight: 500;
        }

        .field-type {
            color: var(--text-muted);
            font-family: monospace;
            font-size: 0.75rem;
        }

        .field-key {
            color: var(--warning-color);
            font-weight: 600;
        }

        /* ========================================
           PROCESS TAGS
           ======================================== */
        .process-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .process-tag.transform { background-color: #dbeafe; color: #1e40af; }
        .process-tag.split { background-color: #fef3c7; color: #92400e; }
        .process-tag.combine { background-color: #d1fae5; color: #065f46; }
        .process-tag.complex { background-color: #ede9fe; color: #5b21b6; }

        /* Product Type Tags */
        .product-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .product-tag.raw { background-color: #fee2e2; color: #991b1b; }
        .product-tag.intermediate { background-color: #fef3c7; color: #92400e; }
        .product-tag.finished { background-color: #d1fae5; color: #065f46; }
        .product-tag.byproduct { background-color: #e0e7ff; color: #3730a3; }
        .product-tag.waste { background-color: #f3f4f6; color: #374151; }
        .product-tag.consumable { background-color: #fce7f3; color: #9d174d; }
        .product-tag.transient { background-color: #cffafe; color: #0e7490; }
        .product-tag.packaging { background-color: #f5f3ff; color: #6d28d9; }

        /* ========================================
           TABLE OF CONTENTS
           ======================================== */
        .toc {
            background-color: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin: 24px 0;
        }

        .toc h4 {
            margin: 0 0 12px 0;
            font-size: 0.95rem;
        }

        .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
            columns: 2;
        }

        .toc li {
            margin-bottom: 6px;
        }

        .toc a {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.85rem;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        /* ========================================
           INDUSTRY GRID
           ======================================== */
        .industry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .industry-item {
            background-color: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .industry-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .industry-item .icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .industry-item .name {
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* ========================================
           RESPONSIVE
           ======================================== */
        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                padding: 24px;
            }

            .toc ul {
                columns: 1;
            }
        }

        /* ========================================
           PRINT STYLES
           ======================================== */
        @media print {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                max-width: 100%;
            }

            .hero {
                background: var(--primary-color) !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        /* ========================================
           SCROLLBAR
           ======================================== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
    </style>
</head>
<body>
    <div class="layout">
        <!-- ========================================
             SIDEBAR NAVIGATION
             ======================================== -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>PMS Documentation</h1>
                <p>Product & Manufacturing System</p>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Getting Started</div>
                    <a href="#overview" class="nav-link">Overview</a>
                    <a href="#capabilities" class="nav-link">Key Capabilities</a>
                    <a href="#industries" class="nav-link">Industry Examples</a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">1. Item Service (Microservice)</div>
                    <a href="#item-service" class="nav-link">Service Overview</a>
                    <a href="#domain-config" class="nav-link">Domain Configuration</a>
                    <a href="#item-types" class="nav-link">Item Types</a>
                    <a href="#item-codes" class="nav-link">Item Codes</a>
                    <a href="#units" class="nav-link">Units of Measure</a>
                    <a href="#item-attributes" class="nav-link">Item Attributes</a>
                    <a href="#item-categories" class="nav-link">Categories</a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">2. Manufacturing Service (Microservice)</div>
                    <a href="#manufacturing-service" class="nav-link">Service Overview</a>
                    <a href="#processes" class="nav-link">Processes/Procedures</a>
                    <a href="#boms" class="nav-link">Bill of Materials</a>
                    <a href="#production-orders" class="nav-link">Production Orders</a>
                    <a href="#batch-management" class="nav-link">Batch Management</a>
                    <a href="#cost-calculation" class="nav-link">Cost Calculation</a>
                    <a href="#quality-control" class="nav-link">Quality Control</a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Additional Modules</div>
                    <a href="#inventory" class="nav-link">3. Inventory Management</a>
                    <a href="#wastage" class="nav-link">4. Wastage & By-products</a>
                    <a href="#transient" class="nav-link">5. Transient & Equipment</a>
                    <a href="#packaging" class="nav-link">6. Packaging</a>
                    <a href="#compliance" class="nav-link">7. Regulatory Compliance</a>
                    <a href="#reporting" class="nav-link">8. Reporting & Analytics</a>
                    <a href="#client-setup" class="nav-link">9. Client Configuration</a>
                </div>
            </nav>
        </aside>

        <!-- ========================================
             MAIN CONTENT
             ======================================== -->
        <main class="main-content">

            <!-- ==================== HERO ==================== -->
            <section class="hero">
                <h1>Product & Manufacturing Management System</h1>
                <p>A comprehensive, industry-agnostic system for managing products and manufacturing processes. Track costs, manage batches, ensure traceability, and handle any transformation pattern from raw materials to finished goods.</p>
                <div class="hero-badges">
                    <span class="badge">Industry Agnostic</span>
                    <span class="badge">Flexible Transformations</span>
                    <span class="badge">Full Traceability</span>
                    <span class="badge">Cost Management</span>
                    <span class="badge">Batch Tracking</span>
                    <span class="badge">Quality Control</span>
                </div>
            </section>

            <!-- ==================== TABLE OF CONTENTS ==================== -->
            <div class="toc">
                <h4>Documentation Sections</h4>
                <ul>
                    <li><a href="#item-service"><strong>1. Item Service (Microservice)</strong></a></li>
                    <li><a href="#manufacturing-service"><strong>2. Manufacturing Service (Microservice)</strong></a></li>
                    <li><a href="#processes">&nbsp;&nbsp;&nbsp;2.1 Process Definitions</a></li>
                    <li><a href="#boms">&nbsp;&nbsp;&nbsp;2.2 Bill of Materials (BOM)</a></li>
                    <li><a href="#production-orders">&nbsp;&nbsp;&nbsp;2.3 Production Orders</a></li>
                    <li><a href="#batch-management">&nbsp;&nbsp;&nbsp;2.4 Batch/Lot Management</a></li>
                    <li><a href="#cost-calculation">&nbsp;&nbsp;&nbsp;2.5 Cost Calculation</a></li>
                    <li><a href="#quality-control">&nbsp;&nbsp;&nbsp;2.6 Quality Control</a></li>
                    <li><a href="#inventory">3. Inventory Management</a></li>
                    <li><a href="#wastage">4. Wastage & By-products</a></li>
                    <li><a href="#transient">5. Transient Materials & Equipment</a></li>
                    <li><a href="#packaging">6. Packaging</a></li>
                    <li><a href="#compliance">7. Regulatory Compliance</a></li>
                    <li><a href="#reporting">8. Reporting & Analytics</a></li>
                    <li><a href="#client-setup">9. Client Configuration</a></li>
                    <li><a href="client-data-import.html">Setup & Import Guide &rarr;</a></li>
                </ul>
            </div>

            <!-- ============================================================
                 OVERVIEW & INTRODUCTION
                 ============================================================ -->
            <section id="overview">
                <h2>Overview & Introduction</h2>
                <p>The Product & Manufacturing Management System (PMS) is a comprehensive, <strong>industry-agnostic</strong> solution designed to manage the complete lifecycle of products through manufacturing processes. Whether you're processing agricultural goods, refining chemicals, manufacturing pharmaceuticals, or assembling electronics, this system adapts to your needs.</p>

                <h3 id="capabilities">Key Capabilities</h3>

                <div class="card-grid">
                    <div class="feature-card">
                        <div class="feature-icon">&#128260;</div>
                        <h3>Flexible Transformations</h3>
                        <p>Handle any manufacturing pattern: combine many inputs into one output, split one input into many outputs, or complex many-to-many transformations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128176;</div>
                        <h3>Cost Management</h3>
                        <p>Track costs through every step. Support for standard and actual costing with multiple cost distribution methods for split outputs.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128269;</div>
                        <h3>Full Traceability</h3>
                        <p>Trace any finished product back to its raw materials. Know every batch, process, operator, and cost involved in production.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128197;</div>
                        <h3>Date-Based Production</h3>
                        <p>Every production run is tied to a specific date. Track what was produced when, by whom, and with which materials.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#9989;</div>
                        <h3>Quality Control</h3>
                        <p>Define quality checkpoints, track inspections, manage rejections and rework. Ensure every output meets standards.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#9851;</div>
                        <h3>Waste to Product</h3>
                        <p>Waste from one process can become input for another. Processing waste can become raw material for secondary products.</p>
                    </div>
                </div>

                <h3>Manufacturing Patterns Supported</h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; margin: 24px 0;">
                    <!-- COMBINE Pattern -->
                    <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border: 1px solid #86efac; border-radius: 12px; padding: 24px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span style="background: #22c55e; color: white; padding: 6px 12px; border-radius: 6px; font-weight: 600; font-size: 0.85rem;">COMBINE</span>
                            <span style="color: #166534; font-weight: 500;">Many → One</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="display: flex; flex-direction: column; gap: 6px;">
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #bbf7d0;">Component A</div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #bbf7d0;">Component B</div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #bbf7d0;">Component C</div>
                            </div>
                            <div style="color: #22c55e; font-size: 1.5rem;">→</div>
                            <div style="background: #22c55e; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; font-size: 0.9rem;">BLEND</div>
                            <div style="color: #22c55e; font-size: 1.5rem;">→</div>
                            <div style="background: #166534; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600;">Final Product</div>
                        </div>
                        <p style="margin-top: 14px; font-size: 0.8rem; color: #166534;">Multiple inputs combine into a single output product</p>
                    </div>

                    <!-- SPLIT Pattern -->
                    <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 1px solid #fcd34d; border-radius: 12px; padding: 24px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span style="background: #f59e0b; color: white; padding: 6px 12px; border-radius: 6px; font-weight: 600; font-size: 0.85rem;">SPLIT</span>
                            <span style="color: #92400e; font-weight: 500;">One → Many</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="background: #92400e; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600;">Crude Oil</div>
                            <div style="color: #f59e0b; font-size: 1.5rem;">→</div>
                            <div style="background: #f59e0b; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; font-size: 0.9rem;">REFINE</div>
                            <div style="color: #f59e0b; font-size: 1.5rem;">→</div>
                            <div style="display: flex; flex-direction: column; gap: 6px;">
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #fcd34d;">Petrol <span style="color:#92400e;">40%</span></div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #fcd34d;">Diesel <span style="color:#92400e;">25%</span></div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #fcd34d;">Kerosene <span style="color:#92400e;">15%</span></div>
                            </div>
                        </div>
                        <p style="margin-top: 14px; font-size: 0.8rem; color: #92400e;">Single input splits into multiple output products</p>
                    </div>

                    <!-- TRANSFORM Pattern -->
                    <div style="background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 1px solid #93c5fd; border-radius: 12px; padding: 24px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span style="background: #2563eb; color: white; padding: 6px 12px; border-radius: 6px; font-weight: 600; font-size: 0.85rem;">TRANSFORM</span>
                            <span style="color: #1e40af; font-weight: 500;">One → One</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="background: #1e40af; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600;">Raw Material</div>
                            <div style="color: #2563eb; font-size: 1.5rem;">→</div>
                            <div style="background: #2563eb; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; font-size: 0.9rem;">PROCESS</div>
                            <div style="color: #2563eb; font-size: 1.5rem;">→</div>
                            <div style="background: #1e40af; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600;">Processed Output</div>
                        </div>
                        <p style="margin-top: 14px; font-size: 0.8rem; color: #1e40af;">Single input transforms into a single output product</p>
                    </div>

                    <!-- COMPLEX Pattern -->
                    <div style="background: linear-gradient(135deg, #fae8ff 0%, #f5d0fe 100%); border: 1px solid #e879f9; border-radius: 12px; padding: 24px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span style="background: #a855f7; color: white; padding: 6px 12px; border-radius: 6px; font-weight: 600; font-size: 0.85rem;">COMPLEX</span>
                            <span style="color: #6b21a8; font-weight: 500;">Many → Many</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="display: flex; flex-direction: column; gap: 6px;">
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #e879f9;">Water</div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #e879f9;">Fuel</div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #e879f9;">Air</div>
                            </div>
                            <div style="color: #a855f7; font-size: 1.5rem;">→</div>
                            <div style="background: #a855f7; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; font-size: 0.9rem;">BOILER</div>
                            <div style="color: #a855f7; font-size: 1.5rem;">→</div>
                            <div style="display: flex; flex-direction: column; gap: 6px;">
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #e879f9;">Steam</div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #e879f9;">Ash</div>
                                <div style="background: white; padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid #e879f9;">Exhaust</div>
                            </div>
                        </div>
                        <p style="margin-top: 14px; font-size: 0.8rem; color: #6b21a8;">Multiple inputs produce multiple outputs simultaneously</p>
                    </div>
                </div>

                <h3 id="industries">Industry Examples</h3>
                <p>This system is designed to work across <strong>any industry</strong>. The product types, units, processes, and workflows are all configurable:</p>

                <div class="industry-grid">
                    <div class="industry-item">
                        <div class="icon">&#127859;</div>
                        <div class="name">Food & Beverage</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#9879;</div>
                        <div class="name">Chemicals</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128138;</div>
                        <div class="name">Pharmaceuticals</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#127806;</div>
                        <div class="name">Agriculture</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128084;</div>
                        <div class="name">Textiles</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128187;</div>
                        <div class="name">Electronics</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128739;</div>
                        <div class="name">Construction</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128716;</div>
                        <div class="name">Cosmetics</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#9981;</div>
                        <div class="name">Petroleum</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#127866;</div>
                        <div class="name">Beverages</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128230;</div>
                        <div class="name">Packaging</div>
                    </div>
                    <div class="industry-item">
                        <div class="icon">&#128296;</div>
                        <div class="name">Manufacturing</div>
                    </div>
                </div>

                <div class="alert alert-info">
                    <span class="alert-icon">&#128161;</span>
                    <div><strong>Industry Agnostic Design:</strong> All terminology, product types, units, processes, and workflows are configurable by the client. The system makes no assumptions about what you're manufacturing.</div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 1: ITEM SERVICE (MICROSERVICE)
                 ============================================================ -->
            <section id="item-service">
                <h2>1. Item Service (Microservice)</h2>
                <p>The Item Service is a <strong>configurable microservice</strong> responsible for managing all items in the system. Items are the core entities representing anything in your manufacturing process: raw materials you purchase, intermediate items during processing, finished goods you sell, waste generated, or even transient materials like steam that exist only momentarily.</p>

                <!-- Item Service Configuration -->
                <div class="card" style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border-color: #7dd3fc;">
                    <h3 id="domain-config" style="color: #0369a1; margin-top: 0;">1.1 Service Configuration</h3>
                    <p>The Item Management module is designed as a <strong>configurable microservice</strong> that can serve different domains/clients with filtered item catalogs.</p>

                    <div class="grid-2" style="margin-top: 16px;">
                        <div class="info-box">
                            <h4>Domain-Based Filtering</h4>
                            <ul>
                                <li><strong>Domain Registration:</strong> Each consuming domain registers with allowed item categories</li>
                                <li><strong>Category Whitelist:</strong> Domain sees only whitelisted categories (e.g., "Condiments", "Spices")</li>
                                <li><strong>Item Blacklist:</strong> Specific items can be hidden from a domain</li>
                                <li><strong>Custom Attributes:</strong> Domain-specific attributes visible only to that domain</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Configuration Options</h4>
                            <ul>
                                <li><strong>allowed_categories:</strong> List of category codes domain can access</li>
                                <li><strong>blocked_items:</strong> Specific item codes to hide</li>
                                <li><strong>allowed_item_types:</strong> Filter by type (RAW_MATERIAL, FINISHED_GOOD, etc.)</li>
                                <li><strong>read_only:</strong> Domain can only view, not modify</li>
                                <li><strong>custom_fields:</strong> Domain-specific fields to expose</li>
                            </ul>
                        </div>
                    </div>

                    <h4 style="margin-top: 20px;">Domain Configuration Example</h4>
                    <pre><code>{
  "domain_id": "condiments-app",
  "domain_name": "Condiments Management System",
  "item_service_config": {
    "allowed_categories": ["CONDIMENTS", "SPICES", "SAUCES", "PICKLES"],
    "blocked_items": ["ITEM-DISCONTINUED-001", "ITEM-INTERNAL-USE"],
    "allowed_item_types": ["RAW_MATERIAL", "INTERMEDIATE", "FINISHED_GOOD"],
    "read_only": false,
    "visible_fields": ["item_code", "item_name", "category", "unit", "price"],
    "hidden_fields": ["cost_price", "supplier_id", "internal_notes"],
    "custom_fields": {
      "spice_level": { "type": "enum", "values": ["MILD", "MEDIUM", "HOT", "EXTRA_HOT"] },
      "shelf_position": { "type": "string" }
    }
  },
  "api_access": {
    "rate_limit": 1000,
    "endpoints": ["GET /items", "GET /items/{id}", "GET /categories"]
  }
}</code></pre>

                    <h4 style="margin-top: 20px;">API Response Filtering</h4>
                    <p>When a domain calls the Item Service API, responses are automatically filtered:</p>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>API Call</th>
                                    <th>Without Domain Filter</th>
                                    <th>With Domain Filter (Condiments App)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>GET /api/items</code></td>
                                    <td>Returns all 500 items</td>
                                    <td>Returns only 45 condiment-related items</td>
                                </tr>
                                <tr>
                                    <td><code>GET /api/categories</code></td>
                                    <td>Returns all 50 categories</td>
                                    <td>Returns only 4 allowed categories</td>
                                </tr>
                                <tr>
                                    <td><code>GET /api/items/ITEM-001</code></td>
                                    <td>Returns full item with all fields</td>
                                    <td>Returns item with only visible_fields + custom_fields</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="alert alert-info" style="margin-top: 16px;">
                        <span class="alert-icon">&#128161;</span>
                        <div><strong>Microservice Benefits:</strong> Multiple applications (Condiments App, Spices Portal, Warehouse System) can share the same Item Service with different views of the data. Changes to items are instantly reflected across all consuming domains.</div>
                    </div>
                </div>

                <h3 id="item-types">Item Types</h3>
                <p>The system supports the following item types. Each type has specific behaviors:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Can be Input?</th>
                                <th>Can be Output?</th>
                                <th>Tracked in Inventory?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="product-tag raw">RAW_MATERIAL</span></td>
                                <td>Purchased inputs that enter the manufacturing process</td>
                                <td><strong>Yes</strong></td>
                                <td>No</td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td><span class="product-tag intermediate">INTERMEDIATE</span></td>
                                <td>Products created during processing, used in further steps</td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td><span class="product-tag finished">FINISHED_GOOD</span></td>
                                <td>Final products ready for sale, distribution, or as input for other products</td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td><span class="product-tag byproduct">BY_PRODUCT</span></td>
                                <td>Secondary outputs with commercial value</td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td><span class="product-tag waste">WASTE</span></td>
                                <td>Outputs with no value, or requiring disposal cost</td>
                                <td><strong>Yes*</strong></td>
                                <td><strong>Yes</strong></td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><span class="product-tag consumable">CONSUMABLE</span></td>
                                <td>Materials used in process but not part of output (lubricants, cleaning agents)</td>
                                <td><strong>Yes</strong></td>
                                <td>No</td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td><span class="product-tag transient">TRANSIENT</span></td>
                                <td>Materials that cannot be stored (steam, hot air, chilled water)</td>
                                <td><strong>Yes</strong></td>
                                <td><strong>Yes</strong></td>
                                <td><strong>No</strong></td>
                            </tr>
                            <tr>
                                <td><span class="product-tag packaging">PACKAGING</span></td>
                                <td>Materials used for packaging finished goods</td>
                                <td><strong>Yes</strong></td>
                                <td>No</td>
                                <td><strong>Yes</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-success">
                    <span class="alert-icon">&#9851;</span>
                    <div><strong>Waste → New Product:</strong> Waste from one process can become input for another! For example, waste from cardamom oil extraction can be used to manufacture incense sticks. Simply mark the waste as an input in a new bom.</div>
                </div>

                <div class="alert alert-info">
                    <span class="alert-icon">&#128260;</span>
                    <div><strong>FINISHED_GOOD → Input:</strong> A FINISHED_GOOD can also be used as an input for another product! For example, a finished electronic component can be assembled into a larger device, or a packaged product can be included in a gift set. Simply add the FINISHED_GOOD as an input in a new bom.</div>
                </div>

                <h4>Product Type Flow Example</h4>
                <div class="diagram">
<pre>
CARDAMOM OIL EXTRACTION                    INCENSE STICK MANUFACTURING
═══════════════════════                    ═══════════════════════════

  [RAW_MATERIAL]                             [WASTE] ─────────┐
   Product                                  Product Husk    │
       │                                                      │
       ▼                                     [RAW_MATERIAL]   │
  ┌─────────┐      [FINISHED_GOOD]           Bamboo Sticks ───┼──→ [COMBINE] ──→ [FINISHED_GOOD]
  │ EXTRACT │ ───→ Product Oil                               │                  Incense Sticks
  └─────────┘                                [CONSUMABLE]     │
       │                                     Binding Agent ───┘
       ▼
    [WASTE]
    Product Husk ─────────────────────────────────────────────┘
                    (becomes input for another process)
</pre>
                </div>

                <h3 id="item-codes">Item Codes (Client-Defined)</h3>
                <p>Item codes are defined by the client using their preferred naming convention. The system supports flexible patterns:</p>

                <h4>Available Code Elements</h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Element</th>
                                <th>Description</th>
                                <th>Examples</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>[COMPANY]</strong></td>
                                <td>Company name or abbreviation</td>
                                <td>ABC, TATA, REL, SPK</td>
                            </tr>
                            <tr>
                                <td><strong>[PLANT]</strong></td>
                                <td>Manufacturing facility/location</td>
                                <td>KL (Region A), MUM (Mumbai), P01</td>
                            </tr>
                            <tr>
                                <td><strong>[CATEGORY]</strong></td>
                                <td>Product category</td>
                                <td>CARD, OIL, SPICE, CHEM</td>
                            </tr>
                            <tr>
                                <td><strong>[TYPE]</strong></td>
                                <td>Product type abbreviation</td>
                                <td>RM, INT, FG, WIP, PKG</td>
                            </tr>
                            <tr>
                                <td><strong>[SIZE/GRADE]</strong></td>
                                <td>Product specification</td>
                                <td>9MM, GRADE-A, PREMIUM</td>
                            </tr>
                            <tr>
                                <td><strong>[SEQ]</strong></td>
                                <td>Sequential number</td>
                                <td>001, 002, 0001</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Example Patterns</h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Example Code</th>
                                <th>Meaning</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>[COMPANY]-[CATEGORY]-[TYPE]-[SEQ]</code></td>
                                <td>ABC-CARD-RM-001</td>
                                <td>ABC Company, Product, Raw Material, #001</td>
                            </tr>
                            <tr>
                                <td><code>[COMPANY]-[PLANT]-[CATEGORY]-[GRADE]</code></td>
                                <td>TATA-MUM-PETROL-P1</td>
                                <td>Tata, Mumbai Plant, Petrol, Premium Grade 1</td>
                            </tr>
                            <tr>
                                <td><code>[PLANT]-[CATEGORY]-[SIZE]-[TYPE]</code></td>
                                <td>KL-CARD-9MM-FG</td>
                                <td>Region A Plant, Product, 9mm, Finished Good</td>
                            </tr>
                            <tr>
                                <td><code>[CATEGORY][TYPE][SEQ]</code></td>
                                <td>OILRM0001</td>
                                <td>Oil, Raw Material, #0001 (no separators)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 id="units">Units of Measure</h3>
                <p>Units are fully configurable. Define base units and conversion factors:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Base Unit</th>
                                <th>Other Units</th>
                                <th>Conversion</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Weight</strong></td>
                                <td>Kilogram (kg)</td>
                                <td>g, mg, MT, lb, oz</td>
                                <td>1 MT = 1000 kg, 1 lb = 0.4536 kg</td>
                            </tr>
                            <tr>
                                <td><strong>Volume</strong></td>
                                <td>Liter (L)</td>
                                <td>mL, m³, gal, fl oz</td>
                                <td>1 m³ = 1000 L, 1 gal = 3.785 L</td>
                            </tr>
                            <tr>
                                <td><strong>Length</strong></td>
                                <td>Meter (m)</td>
                                <td>cm, mm, km, ft, in</td>
                                <td>1 km = 1000 m, 1 ft = 0.3048 m</td>
                            </tr>
                            <tr>
                                <td><strong>Count</strong></td>
                                <td>Piece (pcs)</td>
                                <td>dozen, gross, unit</td>
                                <td>1 dozen = 12 pcs, 1 gross = 144 pcs</td>
                            </tr>
                            <tr>
                                <td><strong>Area</strong></td>
                                <td>Square Meter (m²)</td>
                                <td>cm², ft², acre</td>
                                <td>1 acre = 4046.86 m²</td>
                            </tr>
                            <tr>
                                <td><strong>Energy</strong></td>
                                <td>Kilowatt Hour (kWh)</td>
                                <td>MWh, BTU, joule</td>
                                <td>1 MWh = 1000 kWh</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 id="item-attributes">Item Attributes (Flexible)</h3>
                <p>Each item can have custom attributes stored as flexible JSON. This allows industry-specific properties:</p>

                <pre><code>// Food Industry - Product
{
  "item_code": "ABC-CARD-9MM-FG",
  "name": "9mm Graded Product",
  "type": "FINISHED_GOOD",
  "base_unit": "kg",
  "attributes": {
    "size_mm": 9,
    "grade": "A",
    "moisture_percent": 10,
    "color": "Green",
    "origin": "Region A",
    "organic_certified": true,
    "shelf_life_months": 24
  }
}

// Pharmaceutical Industry - Tablet
{
  "item_code": "PHARMA-TAB-500MG",
  "name": "Paracetamol 500mg Tablet",
  "type": "FINISHED_GOOD",
  "base_unit": "pcs",
  "attributes": {
    "active_ingredient": "Paracetamol",
    "strength_mg": 500,
    "dosage_form": "Tablet",
    "pack_size": 10,
    "storage_temp_c": "Below 25",
    "prescription_required": false,
    "batch_testing_required": true
  }
}

// Chemical Industry - Sulfuric Acid
{
  "item_code": "CHEM-H2SO4-98",
  "name": "Sulfuric Acid 98%",
  "type": "RAW_MATERIAL",
  "base_unit": "L",
  "attributes": {
    "concentration_percent": 98,
    "density_g_ml": 1.84,
    "hazard_class": "8",
    "un_number": "UN1830",
    "storage_requirements": "Corrosive cabinet",
    "msds_available": true
  }
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-icon">&#128161;</span>
                    <div><strong>Flexible Schema:</strong> The attributes field accepts any JSON structure. Define whatever properties are relevant to your industry without modifying the database schema.</div>
                </div>

                <h3 id="item-categories">Item Categories (Hierarchical)</h3>
                <p>Items can be organized into hierarchical categories:</p>

                <div class="diagram">
<pre>
CATEGORY HIERARCHY EXAMPLE
══════════════════════════

Products
├── Raw Materials
│   ├── Category A
│   │   ├── Sub-Category A1
│   │   │   ├── Product Type 1
│   │   │   ├── Product Type 2
│   │   │   └── Product Type 3
│   │   └── Sub-Category A2
│   │       ├── Product Type 4
│   │       └── Product Type 5
│   └── Category B
│       ├── Sub-Category B1
│       └── Sub-Category B2
├── Finished Goods
│   ├── Graded Products
│   ├── Blended Products
│   └── Packaged Goods
├── Packaging
│   ├── Primary Packaging
│   ├── Secondary Packaging
│   └── Labels
└── Consumables
    ├── Cleaning Agents
    └── Lubricants
</pre>
                </div>

                <!-- ============================================================
                     PRODUCT MASTER - DETAILED FORMS BY PRODUCT TYPE
                     ============================================================ -->
                <h3 id="product-master">Product Master - Detailed Entry Forms</h3>
                <p>Each product type has a dedicated entry form with fields relevant to that type. This ensures data completeness while avoiding irrelevant fields.</p>

                <!-- Common Fields for All Products -->
                <div class="card">
                    <h4>2.6.1 Common Fields (All Product Types)</h4>
                    <p>These fields are present in every product form regardless of type:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Product Code</strong></td>
                                <td>Text</td>
                                <td>Yes</td>
                                <td>Unique identifier (auto-generated or manual based on pattern)</td>
                            </tr>
                            <tr>
                                <td><strong>Product Name</strong></td>
                                <td>Text</td>
                                <td>Yes</td>
                                <td>Full product name (max 200 characters)</td>
                            </tr>
                            <tr>
                                <td><strong>Short Description</strong></td>
                                <td>Text</td>
                                <td>No</td>
                                <td>Brief description (max 500 characters)</td>
                            </tr>
                            <tr>
                                <td><strong>Long Description</strong></td>
                                <td>Rich Text</td>
                                <td>No</td>
                                <td>Detailed description with formatting</td>
                            </tr>
                            <tr>
                                <td><strong>Category</strong></td>
                                <td>Dropdown</td>
                                <td>Yes</td>
                                <td>Select from hierarchical category tree</td>
                            </tr>
                            <tr>
                                <td><strong>Base Unit</strong></td>
                                <td>Dropdown</td>
                                <td>Yes</td>
                                <td>Primary unit of measure (kg, L, pcs, etc.)</td>
                            </tr>
                            <tr>
                                <td><strong>Status</strong></td>
                                <td>Dropdown</td>
                                <td>Yes</td>
                                <td>Active, Inactive, Discontinued, Draft</td>
                            </tr>
                            <tr>
                                <td><strong>Primary Image</strong></td>
                                <td>Image Upload</td>
                                <td>No</td>
                                <td>Main product image (min 1200px, white background recommended)</td>
                            </tr>
                            <tr>
                                <td><strong>Gallery Images</strong></td>
                                <td>Multiple Images</td>
                                <td>No</td>
                                <td>Additional images from different angles</td>
                            </tr>
                            <tr>
                                <td><strong>Tags</strong></td>
                                <td>Multi-select</td>
                                <td>No</td>
                                <td>Searchable tags for filtering</td>
                            </tr>
                            <tr>
                                <td><strong>Notes</strong></td>
                                <td>Text Area</td>
                                <td>No</td>
                                <td>Internal notes (not visible externally)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- RAW MATERIAL Form -->
                <div class="card">
                    <h4>2.6.2 RAW_MATERIAL Form</h4>
                    <p>Fields specific to raw materials (purchased inputs):</p>

                    <div class="grid-2">
                        <div>
                            <h5>Identification & Classification</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Source Type</td><td>Dropdown</td><td>Yes</td></tr>
                                    <tr><td>Country of Origin</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>HSN/SAC Code</td><td>Text</td><td>No</td></tr>
                                    <tr><td>Grade Attribute</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Size Class</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Color Attribute</td><td>Dropdown</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Purchasing Information</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Purchase Unit</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Purchase Conversion</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Standard Cost</td><td>Currency</td><td>No</td></tr>
                                    <tr><td>Last Purchase Price</td><td>Currency</td><td>Auto</td></tr>
                                    <tr><td>Lead Time (Days)</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Min Order Qty</td><td>Number</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div>
                            <h5>Inventory Settings</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Track Inventory</td><td>Checkbox</td><td>Yes</td></tr>
                                    <tr><td>Reorder Level</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Min Stock</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Max Stock</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Default Warehouse</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Storage Location</td><td>Text</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Quality & Shelf Life</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Shelf Life (Days)</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Storage Conditions</td><td>Text</td><td>No</td></tr>
                                    <tr><td>QC Required on Receipt</td><td>Checkbox</td><td>No</td></tr>
                                    <tr><td>QC Parameters</td><td>Multi-select</td><td>No</td></tr>
                                    <tr><td>Certifications Required</td><td>Multi-select</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <h5>Physical Properties</h5>
                    <table>
                        <thead>
                            <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Net Weight</td><td>Number + Unit</td><td>Weight per base unit</td></tr>
                            <tr><td>Gross Weight</td><td>Number + Unit</td><td>Weight including packaging</td></tr>
                            <tr><td>Dimensions (L x W x H)</td><td>3 Numbers + Unit</td><td>Physical dimensions</td></tr>
                            <tr><td>Volume</td><td>Number + Unit</td><td>Space occupied</td></tr>
                            <tr><td>Density</td><td>Number</td><td>For liquids/powders</td></tr>
                            <tr><td>Hazard Class</td><td>Dropdown</td><td>UN hazard classification</td></tr>
                            <tr><td>UN Number</td><td>Text</td><td>For hazardous materials</td></tr>
                        </tbody>
                    </table>
                </div>

                <!-- SEMI-FINISHED GOOD Form -->
                <div class="card">
                    <h4>2.6.3 INTERMEDIATE Form</h4>
                    <p>Fields specific to intermediate products created during manufacturing:</p>

                    <div class="grid-2">
                        <div>
                            <h5>Production Information</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Parent Product</td><td>Product Lookup</td><td>No</td></tr>
                                    <tr><td>Produced By BOM</td><td>BOM Lookup</td><td>No</td></tr>
                                    <tr><td>Grade Attribute</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Quality Attribute</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Size Class</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Expected Yield %</td><td>Number</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Inventory Settings</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Track Inventory</td><td>Checkbox</td><td>Yes</td></tr>
                                    <tr><td>Batch Tracking</td><td>Checkbox</td><td>Yes</td></tr>
                                    <tr><td>Default Warehouse</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Min Stock</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Max Stock</td><td>Number</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div>
                            <h5>Quality & Shelf Life</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Shelf Life (Days)</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Storage Conditions</td><td>Text</td><td>No</td></tr>
                                    <tr><td>QC Required</td><td>Checkbox</td><td>No</td></tr>
                                    <tr><td>QC Parameters</td><td>Multi-select</td><td>No</td></tr>
                                    <tr><td>Hold for QC</td><td>Checkbox</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Costing</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Standard Cost</td><td>Currency</td><td>No</td></tr>
                                    <tr><td>Cost Method</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Overhead %</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Is Saleable</td><td>Checkbox</td><td>No</td></tr>
                                    <tr><td>Selling Price</td><td>Currency</td><td>Conditional</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- FINISHED GOOD Form -->
                <div class="card">
                    <h4>2.6.4 FINISHED_GOOD Form</h4>
                    <p>Fields specific to finished products ready for sale, distribution, or as input for other products:</p>

                    <div class="grid-2">
                        <div>
                            <h5>Identification & Barcodes</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>SKU</td><td>Text</td><td>Yes</td></tr>
                                    <tr><td>Barcode Type</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>GTIN/EAN/UPC</td><td>Text</td><td>No</td></tr>
                                    <tr><td>MPN</td><td>Text</td><td>No</td></tr>
                                    <tr><td>Brand</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Manufacturer</td><td>Text</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Pricing</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Cost Price</td><td>Currency</td><td>No</td></tr>
                                    <tr><td>Selling Price</td><td>Currency</td><td>Yes</td></tr>
                                    <tr><td>MRP</td><td>Currency</td><td>No</td></tr>
                                    <tr><td>Tax Category</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>HSN/SAC Code</td><td>Text</td><td>No</td></tr>
                                    <tr><td>Price Includes Tax</td><td>Checkbox</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Sales & Usage</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Sales Unit</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Sales Conversion</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Min Order Qty</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Sales Channels</td><td>Multi-select</td><td>No</td></tr>
                                    <tr><td>Can Be Input</td><td>Checkbox</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div>
                            <h5>Inventory & Fulfillment</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Track Inventory</td><td>Checkbox</td><td>Yes</td></tr>
                                    <tr><td>Batch Tracking</td><td>Checkbox</td><td>Yes</td></tr>
                                    <tr><td>Serial Number Tracking</td><td>Checkbox</td><td>No</td></tr>
                                    <tr><td>Default Warehouse</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Reorder Level</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Safety Stock</td><td>Number</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>Shipping</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Net Weight</td><td>Number + Unit</td><td>No</td></tr>
                                    <tr><td>Gross Weight</td><td>Number + Unit</td><td>No</td></tr>
                                    <tr><td>Dimensions (L x W x H)</td><td>3 Numbers</td><td>No</td></tr>
                                    <tr><td>Shipping Class</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Fragile</td><td>Checkbox</td><td>No</td></tr>
                                    <tr><td>Requires Cold Chain</td><td>Checkbox</td><td>No</td></tr>
                                </tbody>
                            </table>

                            <h5>E-commerce / SEO</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>SEO Title</td><td>Text</td><td>No</td></tr>
                                    <tr><td>Meta Description</td><td>Text</td><td>No</td></tr>
                                    <tr><td>URL Slug</td><td>Text</td><td>No</td></tr>
                                    <tr><td>Canonical URL</td><td>URL</td><td>No</td></tr>
                                    <tr><td>Publish to Web</td><td>Checkbox</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <h5>Quality & Compliance</h5>
                    <table>
                        <thead>
                            <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Shelf Life (Days)</td><td>Number</td><td>Days from manufacture to expiry</td></tr>
                            <tr><td>Storage Conditions</td><td>Text</td><td>Storage requirements</td></tr>
                            <tr><td>Certifications</td><td>Multi-select</td><td>Organic, ISO, Certification, etc.</td></tr>
                            <tr><td>Warranty Period</td><td>Number + Unit</td><td>Warranty duration</td></tr>
                            <tr><td>Return Policy</td><td>Dropdown</td><td>Applicable return policy</td></tr>
                            <tr><td>Country of Origin</td><td>Dropdown</td><td>Manufacturing country</td></tr>
                        </tbody>
                    </table>
                </div>

                <!-- PACKAGING Form -->
                <div class="card">
                    <h4>2.6.5 PACKAGING Form</h4>
                    <p>Fields specific to packaging materials:</p>

                    <div class="grid-2">
                        <div>
                            <h5>Packaging Details</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Packaging Type</td><td>Dropdown</td><td>Yes</td></tr>
                                    <tr><td>Material</td><td>Dropdown</td><td>No</td></tr>
                                    <tr><td>Capacity</td><td>Number + Unit</td><td>No</td></tr>
                                    <tr><td>Dimensions (L x W x H)</td><td>3 Numbers</td><td>No</td></tr>
                                    <tr><td>Color</td><td>Text</td><td>No</td></tr>
                                    <tr><td>Printable</td><td>Checkbox</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div>
                            <h5>Inventory & Purchasing</h5>
                            <table>
                                <thead>
                                    <tr><th>Field</th><th>Type</th><th>Required</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>Track Inventory</td><td>Checkbox</td><td>Yes</td></tr>
                                    <tr><td>Reorder Level</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Standard Cost</td><td>Currency</td><td>No</td></tr>
                                    <tr><td>Lead Time (Days)</td><td>Number</td><td>No</td></tr>
                                    <tr><td>Min Order Qty</td><td>Number</td><td>No</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <h5>Packaging Types</h5>
                    <div class="info-box">
                        <ul>
                            <li><strong>Primary:</strong> Direct product contact (bottles, pouches, sachets)</li>
                            <li><strong>Secondary:</strong> Groups primary packages (cartons, boxes)</li>
                            <li><strong>Tertiary:</strong> Shipping/transport (pallets, crates)</li>
                            <li><strong>Labels:</strong> Product labels and stickers</li>
                            <li><strong>Inserts:</strong> Instructions, leaflets, desiccants</li>
                        </ul>
                    </div>
                </div>

                <!-- BY-PRODUCT Form -->
                <div class="card">
                    <h4>2.6.6 BY_PRODUCT Form</h4>
                    <p>Fields specific to secondary outputs with commercial value:</p>

                    <table>
                        <thead>
                            <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Source Process</td><td>Process Lookup</td><td>Process that generates this by-product</td></tr>
                            <tr><td>Source Product</td><td>Product Lookup</td><td>Primary product from which this is derived</td></tr>
                            <tr><td>Expected Yield %</td><td>Number</td><td>Typical percentage of input</td></tr>
                            <tr><td>Is Saleable</td><td>Checkbox</td><td>Can be sold externally</td></tr>
                            <tr><td>Selling Price</td><td>Currency</td><td>If saleable</td></tr>
                            <tr><td>Can Be Input</td><td>Checkbox</td><td>Can be used in other processes</td></tr>
                            <tr><td>Potential Uses</td><td>Text</td><td>Other processes that can use this</td></tr>
                            <tr><td>Track Inventory</td><td>Checkbox</td><td>Whether to track stock</td></tr>
                            <tr><td>Disposal Method</td><td>Dropdown</td><td>If not used: sell, donate, dispose</td></tr>
                        </tbody>
                    </table>
                </div>

                <!-- WASTE Form -->
                <div class="card">
                    <h4>2.6.7 WASTE Form</h4>
                    <p>Fields specific to waste materials:</p>

                    <table>
                        <thead>
                            <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Waste Type</td><td>Dropdown</td><td>Organic, Hazardous, Recyclable, General</td></tr>
                            <tr><td>Source Process</td><td>Process Lookup</td><td>Process that generates this waste</td></tr>
                            <tr><td>Expected Yield %</td><td>Number</td><td>Typical waste percentage</td></tr>
                            <tr><td>Disposal Method</td><td>Dropdown</td><td>Incinerate, Recycle, Landfill, Treatment</td></tr>
                            <tr><td>Disposal Cost</td><td>Currency</td><td>Cost per unit to dispose</td></tr>
                            <tr><td>Disposal Vendor</td><td>Vendor Lookup</td><td>Authorized disposal vendor</td></tr>
                            <tr><td>Hazard Class</td><td>Dropdown</td><td>If hazardous</td></tr>
                            <tr><td>Regulatory Code</td><td>Text</td><td>Waste classification code</td></tr>
                            <tr><td>Track Quantity</td><td>Checkbox</td><td>For compliance reporting</td></tr>
                            <tr><td>Can Be Reprocessed</td><td>Checkbox</td><td>Can be input for another process</td></tr>
                        </tbody>
                    </table>
                </div>

                <!-- CONSUMABLE Form -->
                <div class="card">
                    <h4>2.6.8 CONSUMABLE Form</h4>
                    <p>Fields specific to consumables (used in process but not part of output):</p>

                    <table>
                        <thead>
                            <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Consumable Type</td><td>Dropdown</td><td>Lubricant, Cleaning, Chemical, Fuel, etc.</td></tr>
                            <tr><td>Usage Rate</td><td>Number + Unit</td><td>Consumption per production unit</td></tr>
                            <tr><td>Track Inventory</td><td>Checkbox</td><td>Whether to track stock</td></tr>
                            <tr><td>Reorder Level</td><td>Number</td><td>When to reorder</td></tr>
                            <tr><td>Standard Cost</td><td>Currency</td><td>Cost per unit</td></tr>
                            <tr><td>Include in Product Cost</td><td>Checkbox</td><td>Add to production cost</td></tr>
                            <tr><td>Hazardous</td><td>Checkbox</td><td>Requires special handling</td></tr>
                            <tr><td>MSDS Available</td><td>Checkbox</td><td>Material Safety Data Sheet</td></tr>
                            <tr><td>Storage Requirements</td><td>Text</td><td>Special storage needs</td></tr>
                        </tbody>
                    </table>
                </div>

                <!-- TRANSIENT Form -->
                <div class="card">
                    <h4>2.6.9 TRANSIENT Form</h4>
                    <p>Fields specific to materials that cannot be stored (steam, hot air, chilled water):</p>

                    <table>
                        <thead>
                            <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Transient Type</td><td>Dropdown</td><td>Steam, Hot Air, Cold Air, Chilled Water, etc.</td></tr>
                            <tr><td>Generation Source</td><td>Text</td><td>Equipment/process that generates this</td></tr>
                            <tr><td>Temperature Range</td><td>Number Range</td><td>Operating temperature</td></tr>
                            <tr><td>Pressure Range</td><td>Number Range</td><td>Operating pressure</td></tr>
                            <tr><td>Flow Rate</td><td>Number + Unit</td><td>Volume per time unit</td></tr>
                            <tr><td>Cost per Unit</td><td>Currency</td><td>For cost allocation</td></tr>
                            <tr><td>Energy Source</td><td>Dropdown</td><td>Electricity, Gas, Solar, etc.</td></tr>
                            <tr><td>Metered</td><td>Checkbox</td><td>Whether consumption is measured</td></tr>
                        </tbody>
                    </table>

                    <div class="alert alert-info">
                        <span class="alert-icon">&#128161;</span>
                        <div><strong>No Inventory Tracking:</strong> Transient materials are not stored in inventory. They exist only during the production process and are tracked for cost allocation and utility monitoring.</div>
                    </div>
                </div>

                <!-- VARIANT MANAGEMENT -->
                <h3 id="variant-management">Product Variants</h3>
                <p>Variants allow you to manage products that have the same base but differ in specific attributes (size, color, grade, etc.).</p>

                <div class="card">
                    <h4>2.7.1 Variant Structure</h4>
                    <p>A variant hierarchy consists of:</p>

                    <div class="diagram">
<pre>
VARIANT STRUCTURE
═════════════════

┌─────────────────────────────────────────────────────────────────┐
│  PRODUCT MODEL (Parent)                                         │
│  "Product Oil - Premium Grade"                                  │
│  - Defines common attributes                                    │
│  - Not directly purchasable/sellable                            │
│  - Acts as template for variants                                │
└─────────────────────────────────────────────────────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        ▼                     ▼                     ▼
┌───────────────┐     ┌───────────────┐     ┌───────────────┐
│   VARIANT 1   │     │   VARIANT 2   │     │   VARIANT 3   │
│   100ml       │     │   250ml       │     │   500ml       │
│   SKU: CO-100 │     │   SKU: CO-250 │     │   SKU: CO-500 │
│   Price: ₹450 │     │   Price: ₹999 │     │   Price: ₹1799│
│   GTIN: xxx1  │     │   GTIN: xxx2  │     │   GTIN: xxx3  │
└───────────────┘     └───────────────┘     └───────────────┘
</pre>
                    </div>

                    <h5>Variant Attributes (Configurable)</h5>
                    <table>
                        <thead>
                            <tr><th>Attribute</th><th>Example Values</th><th>Applicable To</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Size</strong></td><td>100ml, 250ml, 500ml, 1L</td><td>Liquids, Packaged goods</td></tr>
                            <tr><td><strong>Weight</strong></td><td>100g, 250g, 500g, 1kg</td><td>Powders, Solids</td></tr>
                            <tr><td><strong>Color</strong></td><td>Green, Brown, Golden</td><td>Graded products</td></tr>
                            <tr><td><strong>Grade</strong></td><td>A, B, C, Premium, Standard</td><td>Quality variants</td></tr>
                            <tr><td><strong>Pack Size</strong></td><td>Single, 6-pack, 12-pack</td><td>Consumer goods</td></tr>
                            <tr><td><strong>Concentration</strong></td><td>50%, 70%, 98%</td><td>Chemicals</td></tr>
                            <tr><td><strong>Flavor</strong></td><td>Original, Mint, Lemon</td><td>Food products</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h4>2.7.2 Variant Fields</h4>
                    <p>Each variant inherits from the parent model but can override specific fields:</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h5>Inherited from Parent (Read-only)</h5>
                            <ul>
                                <li>Product Name (base)</li>
                                <li>Category</li>
                                <li>Brand</li>
                                <li>Manufacturer</li>
                                <li>Base Description</li>
                                <li>Certifications</li>
                                <li>Primary Image (optional)</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h5>Unique per Variant</h5>
                            <ul>
                                <li>Variant Code / SKU</li>
                                <li>GTIN / Barcode</li>
                                <li>Variant Name Suffix</li>
                                <li>Variant Attributes (size, color, etc.)</li>
                                <li>Price</li>
                                <li>Weight / Dimensions</li>
                                <li>Variant-specific Images</li>
                                <li>Inventory (tracked separately)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h4>2.7.3 Variant Creation Methods</h4>

                    <h5>Method 1: Matrix Generation</h5>
                    <p>Automatically generate variants from attribute combinations:</p>
                    <div class="info-box">
                        <p><strong>Example:</strong> Create variants for T-Shirt</p>
                        <ul>
                            <li>Size: S, M, L, XL</li>
                            <li>Color: Red, Blue, Black</li>
                        </ul>
                        <p>System generates: 4 × 3 = <strong>12 variants</strong></p>
                        <p>SKUs: TS-S-RED, TS-S-BLUE, TS-S-BLK, TS-M-RED, ...</p>
                    </div>

                    <h5>Method 2: Manual Creation</h5>
                    <p>Add variants one by one for non-standard combinations:</p>
                    <ul>
                        <li>Create parent product model first</li>
                        <li>Click "Add Variant"</li>
                        <li>Enter variant-specific details</li>
                        <li>Repeat for each variant</li>
                    </ul>

                    <h5>Method 3: From Production Output</h5>
                    <p>Variants created automatically from SPLIT processes:</p>
                    <div class="info-box">
                        <p><strong>Example:</strong> Grading process splits cardamom into grades</p>
                        <ul>
                            <li>Input: Raw Product (100 kg)</li>
                            <li>Output: Grade A (30 kg), Grade B (40 kg), Grade C (25 kg), Waste (5 kg)</li>
                        </ul>
                        <p>System can auto-create variant products for each grade if not existing.</p>
                    </div>
                </div>

                <div class="card">
                    <h4>2.7.4 Variant Inventory Tracking</h4>
                    <p>Each variant maintains its own inventory:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Variant</th>
                                <th>SKU</th>
                                <th>Warehouse A</th>
                                <th>Warehouse B</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="3">Product Oil Premium</td>
                                <td>100ml</td>
                                <td>CO-100</td>
                                <td>150</td>
                                <td>80</td>
                                <td>230</td>
                            </tr>
                            <tr>
                                <td>250ml</td>
                                <td>CO-250</td>
                                <td>75</td>
                                <td>45</td>
                                <td>120</td>
                            </tr>
                            <tr>
                                <td>500ml</td>
                                <td>CO-500</td>
                                <td>40</td>
                                <td>25</td>
                                <td>65</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Custom Attributes -->
                <h3 id="custom-attributes">Custom Product Attributes</h3>
                <div class="card">
                    <h4>2.8 Flexible Custom Attributes</h4>
                    <p>Beyond standard fields, each product can have unlimited custom attributes stored as key-value pairs. This allows industry-specific data without schema changes.</p>

                    <h5>Attribute Types Supported</h5>
                    <table>
                        <thead>
                            <tr><th>Type</th><th>Description</th><th>Example</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Text</strong></td><td>Free-form text</td><td>Origin: "Region A, India"</td></tr>
                            <tr><td><strong>Number</strong></td><td>Numeric value</td><td>Moisture %: 8.5</td></tr>
                            <tr><td><strong>Boolean</strong></td><td>Yes/No</td><td>Organic Certified: Yes</td></tr>
                            <tr><td><strong>Date</strong></td><td>Date value</td><td>Harvest Date: 2024-03-15</td></tr>
                            <tr><td><strong>List</strong></td><td>Multiple values</td><td>Allergens: ["Nuts", "Soy"]</td></tr>
                            <tr><td><strong>Range</strong></td><td>Min-Max values</td><td>Size: 7-8 mm</td></tr>
                            <tr><td><strong>URL</strong></td><td>Web link</td><td>MSDS: https://...</td></tr>
                            <tr><td><strong>File</strong></td><td>Document attachment</td><td>Certificate: cert.pdf</td></tr>
                        </tbody>
                    </table>

                    <h5>Industry-Specific Attribute Examples</h5>
                    <div class="grid-3">
                        <div class="info-box">
                            <h5>Food & Products</h5>
                            <ul>
                                <li>Moisture %</li>
                                <li>Oil Content %</li>
                                <li>Harvest Season</li>
                                <li>Region of Origin</li>
                                <li>Organic Certified</li>
                                <li>Certification License</li>
                                <li>Allergen Info</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h5>Pharmaceuticals</h5>
                            <ul>
                                <li>Active Ingredient</li>
                                <li>Strength (mg)</li>
                                <li>Dosage Form</li>
                                <li>Storage Temp</li>
                                <li>Prescription Required</li>
                                <li>Drug Schedule</li>
                                <li>Batch Testing</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h5>Chemicals</h5>
                            <ul>
                                <li>Concentration %</li>
                                <li>Density</li>
                                <li>Flash Point</li>
                                <li>UN Number</li>
                                <li>Hazard Class</li>
                                <li>CAS Number</li>
                                <li>MSDS Link</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 2: MANUFACTURING SERVICE (MICROSERVICE)
                 ============================================================ -->
            <section id="manufacturing-service">
                <h2>2. Manufacturing Service (Microservice)</h2>
                <p>The Manufacturing Service is a <strong>microservice</strong> responsible for managing all manufacturing processes, BOMs (Bill of Materials), production orders, batch management, cost calculations, and quality control. It works in conjunction with the Item Service to transform raw materials into finished goods.</p>

                <div class="card-grid">
                    <div class="feature-card">
                        <div class="feature-icon">&#128260;</div>
                        <h3>Process Management</h3>
                        <p>Define reusable process templates for transformations, combinations, splits, and complex manufacturing operations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128221;</div>
                        <h3>BOM Management</h3>
                        <p>Create detailed Bills of Materials linking processes with inputs, outputs, yields, and cost allocations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128736;</div>
                        <h3>Production Orders</h3>
                        <p>Execute manufacturing plans with date-based production tracking, batch management, and material consumption.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128202;</div>
                        <h3>Quality Control</h3>
                        <p>Define quality parameters, run inspections, and ensure every batch meets specifications before release.</p>
                    </div>
                </div>

                <h3 id="processes">2.1 Process Definitions</h3>
                <p>A <strong>Process</strong> is a reusable template that defines how inputs are transformed into outputs. Processes are building blocks that can be combined into manufacturing boms. Define a process once, use it across multiple boms.</p>

                <div class="card-grid">
                    <div class="feature-card">
                        <div class="feature-icon">&#128260;</div>
                        <h3>Reusable</h3>
                        <p>Define once, use everywhere. "Transportation" process can be used for any product that needs moving.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#9881;</div>
                        <h3>Configurable</h3>
                        <p>Parameters can be customized when used in a bom. Distance, duration, temperature, etc.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128176;</div>
                        <h3>Cost-Tracked</h3>
                        <p>Every process has cost components. Labor, machine, energy costs flow through to output products.</p>
                    </div>
                </div>

                <h3 id="process-types">Process Types</h3>
                <p>The system supports four fundamental process types based on input/output patterns:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Pattern</th>
                                <th>Description</th>
                                <th>Examples</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="process-tag transform">TRANSFORM</span></td>
                                <td>1 → 1</td>
                                <td>Single input becomes single output (same or different product)</td>
                                <td>Transport, Grade, Dry, Heat, Cool, Pack</td>
                            </tr>
                            <tr>
                                <td><span class="process-tag split">SPLIT</span></td>
                                <td>1 → N</td>
                                <td>Single input divided into multiple outputs</td>
                                <td>Refine, Segregate, Distill, Cut, Separate</td>
                            </tr>
                            <tr>
                                <td><span class="process-tag combine">COMBINE</span></td>
                                <td>N → 1</td>
                                <td>Multiple inputs merged into single output</td>
                                <td>Blend, Mix, Assemble, Weld, Pickle Making</td>
                            </tr>
                            <tr>
                                <td><span class="process-tag complex">COMPLEX</span></td>
                                <td>N → M</td>
                                <td>Multiple inputs to multiple outputs</td>
                                <td>Chemical Reaction, Batch Processing, Cooking</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Visual Representation</h4>
                <div class="diagram">
<pre>
TRANSFORM (1:1)                           SPLIT (1:N)
═══════════════                           ═══════════

    ┌─────────┐                               ┌─────────┐
    │  INPUT  │                               │  INPUT  │
    │    A    │                               │    A    │
    └────┬────┘                               └────┬────┘
         │                                         │
         ▼                                         ▼
    ┌─────────┐                             ┌───────────┐
    │ PROCESS │                             │  PROCESS  │
    └────┬────┘                             └─────┬─────┘
         │                                   ┌────┼────┐
         ▼                                   ▼    ▼    ▼
    ┌─────────┐                           ┌───┐ ┌───┐ ┌───┐
    │ OUTPUT  │                           │ B │ │ C │ │ D │
    │   A'    │                           └───┘ └───┘ └───┘
    └─────────┘                           (with yield %)


COMBINE (N:1)                             COMPLEX (N:M)
═════════════                             ═════════════

┌───┐ ┌───┐ ┌───┐                        ┌───┐ ┌───┐ ┌───┐
│ A │ │ B │ │ C │                        │ A │ │ B │ │ C │
└─┬─┘ └─┬─┘ └─┬─┘                        └─┬─┘ └─┬─┘ └─┬─┘
  │     │     │                            └──┬──┴──┬──┘
  └─────┼─────┘                               │     │
        ▼                                     ▼     ▼
  ┌───────────┐                         ┌───────────┐
  │  PROCESS  │                         │  PROCESS  │
  └─────┬─────┘                         └─────┬─────┘
        │                                ┌────┼────┐
        ▼                                ▼    ▼    ▼
    ┌───────┐                          ┌───┐ ┌───┐ ┌───┐
    │   D   │                          │ X │ │ Y │ │ Z │
    └───────┘                          └───┘ └───┘ └───┘
</pre>
                </div>

                <h3 id="cost-components">Cost Components</h3>
                <p>Each process can have multiple cost components. These costs are accumulated and flow through to output products:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Description</th>
                                <th>Examples</th>
                                <th>Typical Calculation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Labor</strong></td>
                                <td>Human effort required for the process</td>
                                <td>Operator wages, supervisor time, quality inspector</td>
                                <td>Per hour, per unit, fixed</td>
                            </tr>
                            <tr>
                                <td><strong>Machine</strong></td>
                                <td>Equipment usage, depreciation, rental</td>
                                <td>Machine rental, depreciation, lease cost</td>
                                <td>Per hour, per unit, fixed</td>
                            </tr>
                            <tr>
                                <td><strong>Energy</strong></td>
                                <td>Power consumption for the process</td>
                                <td>Electricity (kWh), Fuel (L), Gas (m³)</td>
                                <td>Per kWh, per liter, per m³</td>
                            </tr>
                            <tr>
                                <td><strong>Consumable</strong></td>
                                <td>Materials used but not in output</td>
                                <td>Cleaning agents, lubricants, filters, gloves</td>
                                <td>Per unit, per batch</td>
                            </tr>
                            <tr>
                                <td><strong>Overhead</strong></td>
                                <td>Indirect costs allocated to the process</td>
                                <td>Facility rent, admin costs, insurance</td>
                                <td>Percentage of total, fixed allocation</td>
                            </tr>
                            <tr>
                                <td><strong>External Service</strong></td>
                                <td>Third-party services used</td>
                                <td>Transportation, lab testing, certification</td>
                                <td>Per service, per unit</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 id="calculation-methods">Calculation Methods</h3>
                <p>Cost components can be calculated using different methods:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Formula</th>
                                <th>Example</th>
                                <th>Use When</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>PER_UNIT</code></td>
                                <td>Rate × Quantity</td>
                                <td>$0.50/kg × 100 kg = $50</td>
                                <td>Cost varies directly with quantity processed</td>
                            </tr>
                            <tr>
                                <td><code>PER_HOUR</code></td>
                                <td>Rate × Hours</td>
                                <td>$25/hr × 3 hrs = $75</td>
                                <td>Time-based costs (labor, machine)</td>
                            </tr>
                            <tr>
                                <td><code>FIXED</code></td>
                                <td>Fixed Amount</td>
                                <td>Transport fee = $500</td>
                                <td>Flat fee regardless of quantity</td>
                            </tr>
                            <tr>
                                <td><code>PERCENTAGE</code></td>
                                <td>Base × Percentage</td>
                                <td>5% of $10,000 = $500</td>
                                <td>Overhead, markup, contingency</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Process Definition Example</h4>
                <pre><code>// SPLIT Process: Segregation
{
  "process_code": "PROC-SEGREGATE",
  "name": "Segregation by Size",
  "type": "SPLIT",
  "description": "Separate bulk material into different sizes/grades",

  "parameters": {
    "machine_type": "Vibrating Screen",
    "screens": ["9mm", "8mm", "7mm", "6mm"],
    "throughput_kg_per_hour": 500
  },

  "cost_components": [
    {
      "name": "Machine Operator",
      "category": "LABOR",
      "calculation_method": "PER_HOUR",
      "default_rate": 15.00,
      "unit": "hour"
    },
    {
      "name": "Segregation Machine",
      "category": "MACHINE",
      "calculation_method": "PER_HOUR",
      "default_rate": 25.00,
      "unit": "hour"
    },
    {
      "name": "Electricity",
      "category": "ENERGY",
      "calculation_method": "PER_UNIT",
      "default_rate": 0.12,
      "unit": "kWh",
      "default_quantity_per_kg": 0.05
    }
  ],

  "expected_outputs": [
    { "name": "9mm Grade", "yield_percent": 30 },
    { "name": "8mm Grade", "yield_percent": 25 },
    { "name": "7mm Grade", "yield_percent": 20 },
    { "name": "6mm Grade", "yield_percent": 15 },
    { "name": "Waste/Fines", "yield_percent": 10 }
  ]
}

// COMBINE Process: Pickle Making
{
  "process_code": "PROC-PICKLE-MIX",
  "name": "Pickle Mixing",
  "type": "COMBINE",
  "description": "Mix ingredients to make pickle",

  "parameters": {
    "mixing_time_minutes": 30,
    "temperature_c": 25,
    "vessel_type": "Stainless Steel Mixer"
  },

  "cost_components": [
    {
      "name": "Mixing Labor",
      "category": "LABOR",
      "calculation_method": "PER_HOUR",
      "default_rate": 12.00
    },
    {
      "name": "Mixer Machine",
      "category": "MACHINE",
      "calculation_method": "PER_HOUR",
      "default_rate": 20.00
    },
    {
      "name": "Quality Testing",
      "category": "EXTERNAL_SERVICE",
      "calculation_method": "FIXED",
      "default_rate": 50.00
    }
  ]
}</code></pre>

                <h3 id="boms">2.2 Bill of Materials (BOM)</h3>
                <p>A <strong>BOM</strong> defines the complete workflow for transforming input products into output products through a series of process steps. BOMs are versioned, reusable, and can be executed as production orders.</p>

                <div class="alert alert-info">
                    <span class="alert-icon">&#128161;</span>
                    <div><strong>BOM vs Process:</strong> A <em>Process</em> is a single operation (e.g., "Mix"). A <em>BOM</em> is a complete workflow of multiple processes (e.g., "Make Mango Pickle" = Wash → Cut → Mix → Ferment → Pack).</div>
                </div>

                <h3>BOM Structure</h3>
                <div class="diagram">
<pre>
RECIPE STRUCTURE
════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                         MANUFACTURING RECIPE                                │
│                     "Mango Pickle Production"                               │
│                         Version: 1.2                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  STEP 1          STEP 2          STEP 3          STEP 4          STEP 5     │
│  ┌──────┐       ┌──────┐       ┌──────┐       ┌───────┐       ┌──────┐      │
│  │ WASH │ ────→ │ CUT  │ ────→ │ MIX  │ ────→ │FERMENT│ ────→ │ PACK │      │
│  └──────┘       └──────┘       └──────┘       └───────┘       └──────┘      │
│                                    ▲                                        │
│                                    │                                        │
│                    ┌───────────────┼───────────────┐                        │
│                    │               │               │                        │
│                 ┌──────┐       ┌────────┐       ┌──────┐                    │
│                 │ Oil  │       │Products│       │ Salt │                    │
│                 └──────┘       └────────┘       └──────┘                    │
│                 (Input)        (Input)        (Input)                       │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│  INPUTS:                          │  OUTPUTS:                               │
│  • Raw Mango: 10 kg               │  • Mango Pickle: 12 kg                  │
│  • Oil: 2 L                       │                                         │
│  • Products: 0.5 kg               │  TOTAL COST: $185                       │
│  • Salt: 0.3 kg                   │  COST PER KG: $15.42                    │
└─────────────────────────────────────────────────────────────────────────────┘
</pre>
                </div>

                <h3 id="step-linking">Step Linking Patterns</h3>
                <p>Steps in a bom can be connected in various ways:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Description</th>
                                <th>Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Sequential</strong></td>
                                <td>Output of Step N → Input of Step N+1</td>
                                <td>Most common. Each step follows the previous.</td>
                            </tr>
                            <tr>
                                <td><strong>Branching</strong></td>
                                <td>One step's outputs feed multiple subsequent steps</td>
                                <td>After SPLIT process, each output goes to different process</td>
                            </tr>
                            <tr>
                                <td><strong>Merging</strong></td>
                                <td>Multiple steps feed into one step</td>
                                <td>COMBINE process that needs outputs from multiple prior steps</td>
                            </tr>
                            <tr>
                                <td><strong>Parallel</strong></td>
                                <td>Independent steps that run simultaneously</td>
                                <td>Prepare ingredients A while preparing ingredients B</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Step Linking Diagrams</h4>
                <div class="diagram">
<pre>
SEQUENTIAL                    BRANCHING                      MERGING
══════════                    ════════                       ════════

Step 1                        Step 1                     Step 1   Step 2
   │                             │                          │        │
   ▼                        ┌────┴────┐                     └────┬───┘
Step 2                      ▼         ▼                          ▼
   │                     Step 2   Step 3                      Step 3
   ▼                        │         │
Step 3                      ▼         ▼
                         Output A  Output B


PARALLEL                      COMPLEX (Real Example: Oil Refinery)
════════                      ═══════════════════════════════════

Step 1   Step 2               Crude Oil
   │        │                     │
   │        │                     ▼
   │        │                ┌─────────┐
   ▼        ▼                │ DISTILL │ (SPLIT)
Step 3   Step 4              └────┬────┘
   │        │                ┌────┼────┬──────┐
   └────┬───┘                ▼    ▼    ▼      ▼
        ▼                 Petrol Diesel Kero Residue
     Step 5                  │    │     │     │
                             ▼    ▼     ▼     ▼
                          [REFINE][REFINE][REFINE][PROCESS]
                             │    │     │     │
                             ▼    ▼     ▼     ▼
                         Premium  HSD  ATF   Bitumen
                         Petrol
</pre>
                </div>

                <h3>BOM Versioning</h3>
                <p>BOMs support versioning to track changes over time:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Version</th>
                                <th>Status</th>
                                <th>Description</th>
                                <th>Changed By</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1.0</td>
                                <td><span style="color: var(--text-muted);">Archived</span></td>
                                <td>Initial bom</td>
                                <td>John Smith</td>
                                <td>2024-01-15</td>
                            </tr>
                            <tr>
                                <td>1.1</td>
                                <td><span style="color: var(--text-muted);">Archived</span></td>
                                <td>Adjusted spice ratios</td>
                                <td>Mary Johnson</td>
                                <td>2024-03-20</td>
                            </tr>
                            <tr>
                                <td>1.2</td>
                                <td><span style="color: var(--success-color); font-weight: 600;">Active</span></td>
                                <td>Added quality check step</td>
                                <td>Mary Johnson</td>
                                <td>2024-06-10</td>
                            </tr>
                            <tr>
                                <td>2.0</td>
                                <td><span style="color: var(--warning-color);">Draft</span></td>
                                <td>New fermentation process</td>
                                <td>Bob Wilson</td>
                                <td>2024-08-01</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>BOM Examples</h3>

                <h4>Example 1: Pickle Making (COMBINE Pattern)</h4>
                <div class="diagram">
<pre>
RECIPE: Mango Pickle Production (RCP-PICKLE-MANGO-001)
══════════════════════════════════════════════════════

INPUTS (Raw Materials):
┌─────────────────────────────────────────────────────────────────┐
│  Raw Mango    │  10 kg  │  $50   │  $5.00/kg                    │
│  Mustard Oil  │  2 L    │  $16   │  $8.00/L                     │
│  Product Mix  │  0.5 kg │  $25   │  $50.00/kg                   │
│  Salt         │  0.3 kg │  $1    │  $3.33/kg                    │
│  Turmeric     │  0.1 kg │  $3    │  $30.00/kg                   │
├─────────────────────────────────────────────────────────────────┤
│  TOTAL INPUT COST:      │  $95                                  │
└─────────────────────────────────────────────────────────────────┘

PROCESS STEPS:

  Raw Mango ──→ [STEP 1: WASH] ──→ [STEP 2: CUT] ──→ ─┐
                Cost: $5           Cost: $15          │
                                                      │
  Mustard Oil ────────────────────────────────────────┤
  Product Mix ──────────────────────────────────────────┼──→ [STEP 3: MIX]
  Salt ───────────────────────────────────────────────┤    Cost: $20
  Turmeric ───────────────────────────────────────────┘
                                                              │
                                                              ▼
                                                      [STEP 4: FERMENT]
                                                         Cost: $30
                                                         (3 days)
                                                              │
                                                              ▼
                                                      [STEP 5: PACK]
                                                         Cost: $20
                                                              │
                                                              ▼
OUTPUT:
┌─────────────────────────────────────────────────────────────────┐
│  Mango Pickle │  12 kg  │  Total Cost: $185  │  $15.42/kg       │
└─────────────────────────────────────────────────────────────────┘

COST BREAKDOWN:
├── Input Materials:  $95  (51.4%)
├── Processing:       $90  (48.6%)
│   ├── Wash:         $5
│   ├── Cut:          $15
│   ├── Mix:          $20
│   ├── Ferment:      $30
│   └── Pack:         $20
└── TOTAL:            $185
</pre>
                </div>

                <h4>Example 2: Oil Refining (SPLIT Pattern)</h4>
                <div class="diagram">
<pre>
RECIPE: Crude Oil Refining (RCP-OIL-REFINE-001)
═══════════════════════════════════════════════

INPUT:
┌─────────────────────────────────────────────────────────────────┐
│  Crude Oil    │  1000 L  │  $50,000   │  $50.00/L               │
└─────────────────────────────────────────────────────────────────┘

PROCESS:

  Crude Oil ──→ [STEP 1: DISTILLATION] ──→ ┬──→ Petrol (40%)
                Cost: $5,000               ├──→ Diesel (25%)
                                           ├──→ Kerosene (15%)
                                           ├──→ LPG (10%)
                                           └──→ Residue (10%)

OUTPUTS (Cost Distribution by Market Value):
┌───────────────────────────────────────────────────────────────────────────┐
│  Product   │  Qty   │  Yield  │  Market   │  Allocated  │  Cost    │      │
│            │        │    %    │  Price/L  │  Cost       │  per L   │      │
├───────────────────────────────────────────────────────────────────────────┤
│  Petrol    │  400 L │  40%    │  $80      │  $26,667    │  $66.67  │      │
│  Diesel    │  250 L │  25%    │  $70      │  $14,583    │  $58.33  │      │
│  Kerosene  │  150 L │  15%    │  $60      │  $7,500     │  $50.00  │      │
│  LPG       │  100 L │  10%    │  $50      │  $4,167     │  $41.67  │      │
│  Residue   │  100 L │  10%    │  $20      │  $2,083     │  $20.83  │      │
├───────────────────────────────────────────────────────────────────────────┤
│  TOTAL     │ 1000 L │  100%   │           │  $55,000    │          │      │
└───────────────────────────────────────────────────────────────────────────┘
</pre>
                </div>

                <h4>Example 3: Product Processing (Multi-Step)</h4>
                <div class="diagram">
<pre>
RECIPE: Product Full Processing (RCP-CARD-FULL-001)
════════════════════════════════════════════════════

INPUT:
┌─────────────────────────────────────────────────────────────────┐
│  Bulk Product (Raw)  │  100 kg  │  $10,000  │  $100/kg          │
└─────────────────────────────────────────────────────────────────┘

STEPS:

[STEP 1: TRANSPORT]        [STEP 2: UNLOAD]         [STEP 3: DRY]
    TRANSFORM                  TRANSFORM               TRANSFORM
    Cost: $700                 Cost: $300              Cost: $500
        │                          │                       │
        ▼                          ▼                       ▼
   100 kg ──────────────→ 100 kg ──────────────→ 95 kg (5% moisture loss)
                                                           │
                                                           ▼
                                               [STEP 4: SEGREGATE]
                                                      SPLIT
                                                   Cost: $1,500
                                                        │
                    ┌───────────┬───────────┬──────────┼──────────┐
                    ▼           ▼           ▼          ▼          ▼
               ┌────────┐  ┌────────┐  ┌────────┐ ┌────────┐ ┌────────┐
               │  9mm   │  │  8mm   │  │  7mm   │ │  6mm   │ │ Waste  │
               │ 30 kg  │  │ 24 kg  │  │ 19 kg  │ │ 14 kg  │ │  8 kg  │
               │ (32%)  │  │ (25%)  │  │ (20%)  │ │ (15%)  │ │ (8%)   │
               └───┬────┘  └───┬────┘  └───┬────┘ └───┬────┘ └────────┘
                   │           │           │          │
                   ▼           ▼           ▼          ▼
              [GRADE]     [GRADE]     [GRADE]    [GRADE]
              $200        $180        $150       $120
                   │           │           │          │
                   ▼           ▼           ▼          ▼
OUTPUTS:      ┌────────┐  ┌────────┐  ┌────────┐ ┌────────┐
              │9mm Grd │  │8mm Grd │  │7mm Grd │ │6mm Grd │
              │$210/kg │  │$168/kg │  │$133/kg │ │$107/kg │
              └────────┘  └────────┘  └────────┘ └────────┘
</pre>
                </div>

                <h3>BOM Definition (JSON)</h3>
                <pre><code>{
  "bom": {
    "code": "RCP-PICKLE-MANGO-001",
    "name": "Mango Pickle Production",
    "version": "1.2",
    "status": "ACTIVE",
    "description": "Traditional mango pickle with mustard oil",

    "steps": [
      {
        "step_number": 1,
        "process_code": "PROC-WASH",
        "name": "Wash Mangoes",
        "inputs": [
          { "item_code": "RM-MANGO-RAW", "quantity": 10, "unit": "kg" }
        ],
        "outputs": [
          { "item_code": "INT-MANGO-WASHED", "quantity": 10, "unit": "kg" }
        ]
      },
      {
        "step_number": 2,
        "process_code": "PROC-CUT",
        "name": "Cut into Pieces",
        "inputs": [
          { "from_step": 1 }
        ],
        "outputs": [
          { "item_code": "INT-MANGO-CUT", "quantity": 10, "unit": "kg" }
        ]
      },
      {
        "step_number": 3,
        "process_code": "PROC-MIX",
        "name": "Mix with Ingredients",
        "inputs": [
          { "from_step": 2 },
          { "item_code": "RM-MUSTARD-OIL", "quantity": 2, "unit": "L" },
          { "item_code": "RM-SPICE-MIX", "quantity": 0.5, "unit": "kg" },
          { "item_code": "RM-SALT", "quantity": 0.3, "unit": "kg" },
          { "item_code": "RM-TURMERIC", "quantity": 0.1, "unit": "kg" }
        ],
        "outputs": [
          { "item_code": "INT-PICKLE-MIXED", "quantity": 12.9, "unit": "kg" }
        ]
      },
      {
        "step_number": 4,
        "process_code": "PROC-FERMENT",
        "name": "Fermentation",
        "duration_days": 3,
        "inputs": [
          { "from_step": 3 }
        ],
        "outputs": [
          { "item_code": "INT-PICKLE-FERMENTED", "quantity": 12, "unit": "kg" }
        ]
      },
      {
        "step_number": 5,
        "process_code": "PROC-PACK",
        "name": "Packaging",
        "inputs": [
          { "from_step": 4 },
          { "item_code": "PKG-JAR-500G", "quantity": 24, "unit": "pcs" }
        ],
        "outputs": [
          { "item_code": "FG-MANGO-PICKLE-500G", "quantity": 24, "unit": "pcs" }
        ]
      }
    ],

    "expected_yield": {
      "input_qty": 10,
      "input_unit": "kg",
      "output_qty": 12,
      "output_unit": "kg",
      "yield_percent": 120
    }
  }
}</code></pre>

                <h3 id="production-orders">2.3 Production Orders</h3>
                <p>A <strong>Production Order</strong> is the execution of a bom on a <strong>specific date</strong>. It represents an actual manufacturing run, tracking what was planned, what was actually produced, who did it, and what batches were created.</p>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#128197;</span>
                    <div><strong>Date-Based Manufacturing:</strong> Every production order is tied to a specific production date. This enables accurate tracking of "what was made when" and supports shelf-life calculations, batch traceability, and production scheduling.</div>
                </div>

                <h3>Production Order Structure</h3>
                <div class="diagram">
<pre>
PRODUCTION ORDER STRUCTURE
══════════════════════════

┌────────────────────────────────────────────────────────────────────────────────┐
│  PRODUCTION ORDER: PRD-2025-0107-001                                           │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│  BOM:           RCP-PICKLE-MANGO-001 (v1.2)                                 │
│  Production Date:  2025-01-07                                                  │
│  Status:           IN_PROGRESS                                                 │
│                                                                                │
│  ┌──────────────────────────────────────────────────────────────────────────┐  │
│  │  PLANNED                          │  ACTUAL                              │  │
│  ├───────────────────────────────────┼──────────────────────────────────────┤  │
│  │  Input: Raw Mango 100 kg          │  Input: Raw Mango 100 kg             │  │
│  │  Output: Pickle 120 kg            │  Output: Pickle 118 kg (98.3%)       │  │
│  │  Start: 08:00                     │  Start: 08:15                        │  │
│  │  End: 17:00 (estimated)           │  End: 17:30                          │  │
│  └───────────────────────────────────┴──────────────────────────────────────┘  │
│                                                                                │
│  OPERATORS ASSIGNED:                                                           │
│  ├── Step 1 (Wash):     John Smith (EMP-042)                                   │
│  ├── Step 2 (Cut):      Mary Johnson (EMP-018)                                 │
│  ├── Step 3 (Mix):      Mary Johnson (EMP-018)                                 │
│  ├── Step 4 (Ferment):  Auto (no operator needed)                              │
│  └── Step 5 (Pack):     Bob Wilson (EMP-055)                                   │
│                                                                                │
│  BATCHES CREATED:                                                              │
│  └── Output Batch: BATCH-PICKLE-20250107-001 (118 kg)                          │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘
</pre>
                </div>

                <h3>Production Order Fields</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Order ID</strong></td>
                                <td>String</td>
                                <td>Unique identifier (auto or client-defined)</td>
                                <td>PRD-2025-0107-001</td>
                            </tr>
                            <tr>
                                <td><strong>BOM Code</strong></td>
                                <td>Reference</td>
                                <td>Which bom to execute</td>
                                <td>RCP-PICKLE-MANGO-001</td>
                            </tr>
                            <tr>
                                <td><strong>BOM Version</strong></td>
                                <td>String</td>
                                <td>Specific version of bom used</td>
                                <td>1.2</td>
                            </tr>
                            <tr>
                                <td><strong>Production Date</strong></td>
                                <td>Date</td>
                                <td>The date production occurs</td>
                                <td>2025-01-07</td>
                            </tr>
                            <tr>
                                <td><strong>Planned Quantity</strong></td>
                                <td>Number</td>
                                <td>Expected output quantity</td>
                                <td>120 kg</td>
                            </tr>
                            <tr>
                                <td><strong>Actual Quantity</strong></td>
                                <td>Number</td>
                                <td>What was actually produced</td>
                                <td>118 kg</td>
                            </tr>
                            <tr>
                                <td><strong>Status</strong></td>
                                <td>Enum</td>
                                <td>Current state of the order</td>
                                <td>IN_PROGRESS</td>
                            </tr>
                            <tr>
                                <td><strong>Planned Start</strong></td>
                                <td>DateTime</td>
                                <td>When production should start</td>
                                <td>2025-01-07 08:00</td>
                            </tr>
                            <tr>
                                <td><strong>Actual Start</strong></td>
                                <td>DateTime</td>
                                <td>When production actually started</td>
                                <td>2025-01-07 08:15</td>
                            </tr>
                            <tr>
                                <td><strong>Planned End</strong></td>
                                <td>DateTime</td>
                                <td>Expected completion time</td>
                                <td>2025-01-07 17:00</td>
                            </tr>
                            <tr>
                                <td><strong>Actual End</strong></td>
                                <td>DateTime</td>
                                <td>When production completed</td>
                                <td>2025-01-07 17:30</td>
                            </tr>
                            <tr>
                                <td><strong>Created By</strong></td>
                                <td>Reference</td>
                                <td>User who created the order</td>
                                <td>EMP-001 (Admin)</td>
                            </tr>
                            <tr>
                                <td><strong>Approved By</strong></td>
                                <td>Reference</td>
                                <td>User who approved (if required)</td>
                                <td>EMP-005 (Supervisor)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- BOM Customization at Runtime -->
                <div class="card" style="background: linear-gradient(135deg, #fefce8, #fef9c3); border: 2px solid #facc15; margin-top: 24px;">
                    <h3 style="color: #a16207; margin-top: 0;">BOM Customization (Runtime)</h3>
                    <p>When creating a Production Order, you can <strong>customize the selected BOM</strong> without creating a new BOM version. This allows flexible execution while preserving the original BOM template.</p>

                    <div class="grid-2" style="margin-top: 16px;">
                        <div class="info-box" style="background: white;">
                            <h4 style="color: #a16207;">What You Can Customize</h4>
                            <ul>
                                <li><strong>Skip Steps:</strong> Mark any step as "skipped" for this order</li>
                                <li><strong>Reorder Steps:</strong> Change step sequence (if dependencies allow)</li>
                                <li><strong>Adjust Quantities:</strong> Override input/output quantities per step</li>
                                <li><strong>Change Parameters:</strong> Modify step-specific parameters (temperature, duration, etc.)</li>
                                <li><strong>Add Notes:</strong> Include order-specific instructions per step</li>
                            </ul>
                        </div>
                        <div class="info-box" style="background: white;">
                            <h4 style="color: #a16207;">What Cannot Be Changed</h4>
                            <ul>
                                <li><strong>Add New Steps:</strong> Cannot add steps not in the BOM</li>
                                <li><strong>Change Process Type:</strong> Step's process definition is fixed</li>
                                <li><strong>Remove Mandatory Steps:</strong> Steps marked as required cannot be skipped</li>
                                <li><strong>Break Dependencies:</strong> Cannot skip steps that others depend on</li>
                            </ul>
                        </div>
                    </div>

                    <h4 style="margin-top: 20px; color: #a16207;">Step Configuration in Production Order</h4>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Field</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>is_skipped</strong></td>
                                    <td>Boolean</td>
                                    <td>If true, this step will not be executed</td>
                                </tr>
                                <tr>
                                    <td><strong>skip_reason</strong></td>
                                    <td>String</td>
                                    <td>Required explanation when skipping a step</td>
                                </tr>
                                <tr>
                                    <td><strong>sequence_override</strong></td>
                                    <td>Integer</td>
                                    <td>Override the step order (null = use BOM order)</td>
                                </tr>
                                <tr>
                                    <td><strong>quantity_override</strong></td>
                                    <td>Decimal</td>
                                    <td>Override input/output quantity for this step</td>
                                </tr>
                                <tr>
                                    <td><strong>parameters_override</strong></td>
                                    <td>JSON</td>
                                    <td>Override specific process parameters</td>
                                </tr>
                                <tr>
                                    <td><strong>operator_notes</strong></td>
                                    <td>Text</td>
                                    <td>Special instructions for this execution</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h4 style="margin-top: 20px; color: #a16207;">Example: Customized Production Order</h4>
                    <pre><code>{
  "production_order_id": "PRD-2025-0108-001",
  "bom_code": "BOM-PICKLE-MANGO-001",
  "bom_version": "1.2",
  "production_date": "2025-01-08",
  "planned_quantity": 100,
  "customized_steps": [
    {
      "step_number": 1,
      "process_code": "PROC-WASH",
      "is_skipped": false,
      "parameters_override": { "water_temp": 25 }
    },
    {
      "step_number": 2,
      "process_code": "PROC-PEEL",
      "is_skipped": true,
      "skip_reason": "Pre-peeled mangoes received from supplier"
    },
    {
      "step_number": 3,
      "process_code": "PROC-CUT",
      "is_skipped": false,
      "operator_notes": "Cut into smaller pieces for this batch"
    },
    {
      "step_number": 4,
      "process_code": "PROC-MIX",
      "is_skipped": false,
      "parameters_override": { "spice_ratio": 1.2 }
    },
    {
      "step_number": 5,
      "process_code": "PROC-FERMENT",
      "is_skipped": false
    }
  ]
}</code></pre>

                    <div class="alert alert-info" style="margin-top: 16px;">
                        <span class="alert-icon">&#128161;</span>
                        <div><strong>Audit Trail:</strong> All customizations are logged. Reports can compare "BOM as designed" vs "BOM as executed" for variance analysis and process improvement.</div>
                    </div>
                </div>

                <h3 id="order-statuses">Production Order Statuses</h3>
                <div class="diagram">
<pre>
PRODUCTION ORDER LIFECYCLE
══════════════════════════

  ┌──────────┐     Approve      ┌──────────┐      Start       ┌─────────────┐
  │  DRAFT   │ ───────────────→ │ APPROVED │ ───────────────→ │ IN_PROGRESS │
  └──────────┘                  └──────────┘                  └──────┬──────┘
       │                              │                              │
       │ Delete                       │ Reject                       │ Complete
       ▼                              ▼                              ▼
  ┌──────────┐                  ┌──────────┐                  ┌───────────┐
  │ DELETED  │                  │ REJECTED │                  │ COMPLETED │
  └──────────┘                  └──────────┘                  └───────────┘
                                      │
                                      │ Cancel (any stage)
                                      ▼
                               ┌───────────┐
                               │ CANCELLED │
                               └───────────┘
</pre>
                </div>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Description</th>
                                <th>Allowed Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span style="background: #e0e7ff; color: #3730a3; padding: 2px 8px; border-radius: 4px; font-weight: 600;">DRAFT</span></td>
                                <td>Order created but not yet approved</td>
                                <td>Edit, Delete, Submit for Approval</td>
                            </tr>
                            <tr>
                                <td><span style="background: #fef3c7; color: #92400e; padding: 2px 8px; border-radius: 4px; font-weight: 600;">APPROVED</span></td>
                                <td>Approved and ready to start</td>
                                <td>Start Production, Cancel</td>
                            </tr>
                            <tr>
                                <td><span style="background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 4px; font-weight: 600;">IN_PROGRESS</span></td>
                                <td>Production is ongoing</td>
                                <td>Update Progress, Complete, Pause, Cancel</td>
                            </tr>
                            <tr>
                                <td><span style="background: #d1fae5; color: #065f46; padding: 2px 8px; border-radius: 4px; font-weight: 600;">COMPLETED</span></td>
                                <td>Production finished successfully</td>
                                <td>View, Generate Reports</td>
                            </tr>
                            <tr>
                                <td><span style="background: #fee2e2; color: #991b1b; padding: 2px 8px; border-radius: 4px; font-weight: 600;">CANCELLED</span></td>
                                <td>Order was cancelled</td>
                                <td>View, Clone to New Order</td>
                            </tr>
                            <tr>
                                <td><span style="background: #f3f4f6; color: #374151; padding: 2px 8px; border-radius: 4px; font-weight: 600;">REJECTED</span></td>
                                <td>Approval was rejected</td>
                                <td>Edit and Resubmit, Delete</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Step Execution Tracking</h3>
                <p>Each step within a production order is tracked individually:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Step</th>
                                <th>Process</th>
                                <th>Operator</th>
                                <th>Start</th>
                                <th>End</th>
                                <th>Status</th>
                                <th>Input Batch</th>
                                <th>Output Batch</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Wash</td>
                                <td>John Smith</td>
                                <td>08:15</td>
                                <td>09:00</td>
                                <td><span style="color: var(--success-color);">Done</span></td>
                                <td>LOT-MANGO-001</td>
                                <td>INT-WASH-001</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Cut</td>
                                <td>Mary Johnson</td>
                                <td>09:15</td>
                                <td>11:30</td>
                                <td><span style="color: var(--success-color);">Done</span></td>
                                <td>INT-WASH-001</td>
                                <td>INT-CUT-001</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Mix</td>
                                <td>Mary Johnson</td>
                                <td>11:45</td>
                                <td>13:00</td>
                                <td><span style="color: var(--success-color);">Done</span></td>
                                <td>INT-CUT-001 + inputs</td>
                                <td>INT-MIX-001</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Ferment</td>
                                <td>-</td>
                                <td>13:00</td>
                                <td>(3 days)</td>
                                <td><span style="color: var(--primary-color);">In Progress</span></td>
                                <td>INT-MIX-001</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Pack</td>
                                <td>Bob Wilson</td>
                                <td>-</td>
                                <td>-</td>
                                <td><span style="color: var(--text-muted);">Pending</span></td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- TAT & Step Status Management -->
                <div class="card">
                    <h3>2.3.4 TAT (Turnaround Time) & Step Status</h3>
                    <p>Each step has a defined TAT and real-time status tracking. Delays are captured with reasons.</p>
                    <h4>Step Statuses</h4>
                    <table>
                        <thead><tr><th>Status</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><span class="badge badge-secondary">PENDING</span></td><td>Waiting for previous step</td></tr>
                            <tr><td><span class="badge badge-info">READY</span></td><td>Ready to start</td></tr>
                            <tr><td><span class="badge badge-primary">IN_PROGRESS</span></td><td>Currently executing</td></tr>
                            <tr><td><span class="badge badge-warning">ON_HOLD</span></td><td>Paused due to issue</td></tr>
                            <tr><td><span class="badge badge-danger">DELAYED</span></td><td>Exceeded TAT</td></tr>
                            <tr><td><span class="badge badge-success">COMPLETED</span></td><td>Finished successfully</td></tr>
                            <tr><td><span style="background:#fee2e2;color:#991b1b;padding:2px 8px;border-radius:4px;">FAILED</span></td><td>Failed, needs intervention</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>2.3.5 TAT Configuration</h3>
                    <table>
                        <thead><tr><th>Parameter</th><th>Description</th><th>Example</th></tr></thead>
                        <tbody>
                            <tr><td><strong>Standard TAT</strong></td><td>Expected duration</td><td>2 hours</td></tr>
                            <tr><td><strong>Min/Max TAT</strong></td><td>Bounds for quality</td><td>1.5h - 4h</td></tr>
                            <tr><td><strong>Warning Threshold</strong></td><td>Alert trigger time</td><td>2.5 hours</td></tr>
                            <tr><td><strong>Setup Time</strong></td><td>Preparation time</td><td>15 min</td></tr>
                            <tr><td><strong>Max Wait</strong></td><td>Max gap to next step</td><td>30 min</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>2.3.6 Delay Categories</h3>
                    <table>
                        <thead><tr><th>Category</th><th>Examples</th><th>Resolution</th></tr></thead>
                        <tbody>
                            <tr><td><span class="badge badge-danger">EQUIPMENT</span></td><td>Breakdown, maintenance, calibration</td><td>Maintenance team</td></tr>
                            <tr><td><span class="badge badge-warning">MATERIAL</span></td><td>Shortage, failed QC, wrong delivery</td><td>Procurement</td></tr>
                            <tr><td><span class="badge badge-info">LOGISTICS</span></td><td>Transport delay, strike, weather</td><td>Alt transport</td></tr>
                            <tr><td><span class="badge badge-primary">MANPOWER</span></td><td>Operator unavailable, skill gap</td><td>Reassign</td></tr>
                            <tr><td><span class="badge badge-secondary">STORAGE</span></td><td>Space unavailable, cold storage fail</td><td>Alt location</td></tr>
                            <tr><td><span class="badge badge-success">QUALITY</span></td><td>QC pending, hold, rework</td><td>QC team</td></tr>
                            <tr><td><span style="background:#dbeafe;color:#1e40af;padding:2px 8px;border-radius:4px;">UTILITY</span></td><td>Power, water, steam failure</td><td>Backup systems</td></tr>
                            <tr><td><span style="background:#fce7f3;color:#9d174d;padding:2px 8px;border-radius:4px;">EXTERNAL</span></td><td>Govt inspection, regulatory hold</td><td>Comply, wait</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>2.3.7 Step Tracking with TAT</h3>
                    <table style="font-size:13px;">
                        <thead><tr><th>Step</th><th>Process</th><th>Status</th><th>TAT</th><th>Actual</th><th>Variance</th><th>Delay</th></tr></thead>
                        <tbody>
                            <tr><td>1</td><td>Wash</td><td><span class="badge badge-success">DONE</span></td><td>45m</td><td>45m</td><td style="color:green;">✓</td><td>-</td></tr>
                            <tr><td>2</td><td>Cut</td><td><span class="badge badge-success">DONE</span></td><td>2h</td><td>2h15m</td><td style="color:orange;">+15m</td><td>Break</td></tr>
                            <tr style="background:#fef3c7;"><td>4</td><td>Ferment</td><td><span class="badge badge-danger">DELAYED</span></td><td>72h</td><td>78h</td><td style="color:red;">+6h</td><td>Equipment</td></tr>
                            <tr><td>5</td><td>Pack</td><td><span class="badge badge-secondary">PENDING</span></td><td>1h</td><td>-</td><td>-</td><td>-</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>2.3.8 Delay Log</h3>
                    <div style="background:var(--bg-card);border:1px solid var(--border-color);border-radius:8px;padding:15px;font-family:monospace;font-size:11px;">
                        <pre style="margin:0;">DELAY LOG - PRD-2025-0107-001 | Step 4
══════════════════════════════════════
#1 | 2025-01-08 14:30 | EQUIPMENT
   Temp control malfunction (28°C→22°C)
   Resolved: 18:45 | Duration: 4h 15m
#2 | 2025-01-09 06:00 | UTILITY
   Power failure - Generator activated
   Resolved: 06:45 | Duration: 45m
TOTAL STEP DELAY: 5h | ORDER DELAY: 5h 15m</pre>
                    </div>
                </div>

                <div class="card">
                    <h3>2.3.9 TAT Monitoring</h3>
                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Indicators</h4>
                            <ul><li>Green: On Track</li><li>Yellow: Warning</li><li>Red: Delayed</li><li>Flashing: Critical</li></ul>
                        </div>
                        <div class="info-box">
                            <h4>Alerts</h4>
                            <ul><li>Approaching TAT</li><li>Exceeded TAT</li><li>On hold</li><li>Equipment trending</li></ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>2.3.10 TAT Reports</h3>
                    <table>
                        <thead><tr><th>Report</th><th>Purpose</th><th>Metrics</th></tr></thead>
                        <tbody>
                            <tr><td>TAT Compliance</td><td>On-time rate</td><td>% on time, avg delay</td></tr>
                            <tr><td>Delay Analysis</td><td>Root causes</td><td>By category, frequency</td></tr>
                            <tr><td>Equipment Downtime</td><td>Equipment issues</td><td>MTBF, MTTR</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3>Production Order JSON (with TAT)</h3>
                <pre><code>{
  "production_order": {
    "order_id": "PRD-2025-0107-001",
    "bom_code": "RCP-PICKLE-MANGO-001",
    "bom_version": "1.2",
    "production_date": "2025-01-07",
    "status": "IN_PROGRESS",

    "planned": {
      "input_qty": 100,
      "output_qty": 120,
      "start_time": "2025-01-07T08:00:00",
      "end_time": "2025-01-07T17:00:00"
    },

    "actual": {
      "input_qty": 100,
      "output_qty": null,
      "start_time": "2025-01-07T08:15:00",
      "end_time": null
    },

    "step_assignments": [
      { "step": 1, "operator_id": "EMP-042", "equipment_id": "WASH-STATION-01" },
      { "step": 2, "operator_id": "EMP-018", "equipment_id": "CUT-TABLE-03" },
      { "step": 3, "operator_id": "EMP-018", "equipment_id": "MIXER-01" },
      { "step": 4, "operator_id": null, "equipment_id": "FERMENT-TANK-05" },
      { "step": 5, "operator_id": "EMP-055", "equipment_id": "PACK-LINE-02" }
    ],

    "input_batches": [
      { "item_code": "RM-MANGO-RAW", "batch_id": "LOT-MANGO-20250105-001", "qty": 100, "unit": "kg" },
      { "item_code": "RM-MUSTARD-OIL", "batch_id": "LOT-OIL-20250102-003", "qty": 20, "unit": "L" },
      { "item_code": "RM-SPICE-MIX", "batch_id": "LOT-SPICE-20241220-001", "qty": 5, "unit": "kg" }
    ],

    "output_batches": [],

    "created_by": "EMP-001",
    "created_at": "2025-01-06T16:30:00",
    "approved_by": "EMP-005",
    "approved_at": "2025-01-06T17:00:00"
  }
}</code></pre>

                <h3 id="batch-management">2.4 Batch/Lot Management & Traceability</h3>
                <p>Every material in the system is tracked by <strong>Batch/Lot</strong>. A batch represents a specific quantity of a product produced or received at a specific time. Full traceability means you can trace any product forward (what was made from it) or backward (what it was made from).</p>

                <div class="alert alert-success">
                    <span class="alert-icon">&#128269;</span>
                    <div><strong>Traceability Goal:</strong> Given any finished product batch, trace back to the exact raw materials, processes, operators, dates, and costs involved. Given any raw material batch, trace forward to all products made from it.</div>
                </div>

                <h3>Batch Numbering Conventions</h3>
                <p>Batch numbers are client-defined. Common patterns:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Example</th>
                                <th>Components</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>[DATE]-[PRODUCT]-[SEQ]</code></td>
                                <td>20250107-PICKLE-001</td>
                                <td>Date + Product + Sequence</td>
                            </tr>
                            <tr>
                                <td><code>[PLANT]-[YEAR][WEEK]-[SEQ]</code></td>
                                <td>KL-2501-045</td>
                                <td>Plant + YearWeek + Sequence</td>
                            </tr>
                            <tr>
                                <td><code>LOT-[SUPPLIER]-[DATE]</code></td>
                                <td>LOT-FARM001-20250107</td>
                                <td>Prefix + Supplier + Date</td>
                            </tr>
                            <tr>
                                <td><code>[ORDER]-[STEP]-[OUTPUT]</code></td>
                                <td>PRD001-S3-OUT1</td>
                                <td>Production Order + Step + Output</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Traceability Types</h3>

                <h4>1. Forward Traceability (Raw → Finished)</h4>
                <p><em>"What products were made from this raw material batch?"</em></p>

                <div class="diagram">
<pre>
FORWARD TRACE: LOT-MANGO-20250105-001 (Raw Mango, 500 kg from Farm ABC)
════════════════════════════════════════════════════════════════════════════════

LOT-MANGO-20250105-001 (500 kg)
    │
    ├──→ PRD-2025-0106-001 (100 kg used)
    │         │
    │         └──→ BATCH-PICKLE-20250106-001 (Mango Pickle, 118 kg)
    │                   │
    │                   ├──→ Sold to: Customer ABC (50 kg) - Invoice INV-2025-0150
    │                   └──→ In Stock: Warehouse A, Bin 12 (68 kg)
    │
    ├──→ PRD-2025-0107-001 (100 kg used)
    │         │
    │         └──→ BATCH-PICKLE-20250107-001 (Mango Pickle, 120 kg)
    │                   │
    │                   └──→ In Stock: Warehouse A, Bin 14 (120 kg)
    │
    ├──→ PRD-2025-0107-002 (150 kg used)
    │         │
    │         └──→ BATCH-CHUTNEY-20250107-001 (Mango Chutney, 140 kg)
    │
    └──→ Remaining: 150 kg (In Stock, Warehouse B)

USAGE SUMMARY:
├── Total Received:     500 kg
├── Used in Production: 350 kg (70%)
├── Products Made:      3 batches (378 kg output)
└── Remaining Stock:    150 kg
</pre>
                </div>

                <h4>2. Backward Traceability (Finished → Raw)</h4>
                <p><em>"What raw materials and processes were used to make this finished product?"</em></p>

                <div class="diagram">
<pre>
BACKWARD TRACE: BATCH-PICKLE-20250107-001 (Mango Pickle, 120 kg)
════════════════════════════════════════════════════════════════════════════════

BATCH-PICKLE-20250107-001
    │
    └── Production Order: PRD-2025-0107-001
        │   Production Date: 2025-01-07
        │   BOM: RCP-PICKLE-MANGO-001 (v1.2)
        │
        ├── RAW MATERIALS USED:
        │   ├── LOT-MANGO-20250105-001
        │   │       Product: Raw Mango
        │   │       Qty Used: 100 kg
        │   │       Supplier: Farm ABC, Region A
        │   │       Received: 2025-01-05
        │   │       Cost: $500 ($5/kg)
        │   │
        │   ├── LOT-OIL-20250102-003
        │   │       Product: Mustard Oil
        │   │       Qty Used: 20 L
        │   │       Supplier: Oil Mills Ltd
        │   │       Received: 2025-01-02
        │   │       Cost: $160 ($8/L)
        │   │
        │   ├── LOT-SPICE-20241220-001
        │   │       Product: Product Mix
        │   │       Qty Used: 5 kg
        │   │       Supplier: Product Traders
        │   │       Cost: $250 ($50/kg)
        │   │
        │   └── LOT-SALT-20241215-002
        │           Product: Salt
        │           Qty Used: 3 kg
        │           Cost: $10
        │
        ├── PROCESS STEPS:
        │   ├── Step 1: WASH
        │   │       Operator: John Smith (EMP-042)
        │   │       Time: 08:15 - 09:00
        │   │       Equipment: WASH-STATION-01
        │   │       Cost: $15
        │   │
        │   ├── Step 2: CUT
        │   │       Operator: Mary Johnson (EMP-018)
        │   │       Time: 09:15 - 11:30
        │   │       Equipment: CUT-TABLE-03
        │   │       Cost: $45
        │   │
        │   ├── Step 3: MIX
        │   │       Operator: Mary Johnson (EMP-018)
        │   │       Time: 11:45 - 13:00
        │   │       Equipment: MIXER-01
        │   │       Cost: $30
        │   │
        │   ├── Step 4: FERMENT
        │   │       Duration: 3 days
        │   │       Equipment: FERMENT-TANK-05
        │   │       Cost: $50
        │   │
        │   └── Step 5: PACK
        │           Operator: Bob Wilson (EMP-055)
        │           Time: 14:00 - 17:30
        │           Equipment: PACK-LINE-02
        │           Cost: $60
        │
        └── COST SUMMARY:
            ├── Raw Materials:  $920 (76.7%)
            ├── Processing:     $200 (16.7%)
            ├── Packaging:      $60  (5.0%)
            ├── Overhead:       $20  (1.6%)
            ├── TOTAL:          $1,200
            └── Cost per kg:    $10.00
</pre>
                </div>

                <h4>3. Sibling Traceability</h4>
                <p><em>"What other products came from the same raw material batch?"</em></p>

                <div class="diagram">
<pre>
SIBLING TRACE: Products from LOT-MANGO-20250105-001
═══════════════════════════════════════════════════

                         LOT-MANGO-20250105-001
                         (Raw Mango, 500 kg)
                                  │
              ┌───────────────────┼───────────────────┐
              │                   │                   │
              ▼                   ▼                   ▼
    ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
    │ BATCH-PICKLE-   │  │ BATCH-PICKLE-   │  │ BATCH-CHUTNEY-  │
    │ 20250106-001    │  │ 20250107-001    │  │ 20250107-001    │
    │ Mango Pickle    │  │ Mango Pickle    │  │ Mango Chutney   │
    │ 118 kg          │  │ 120 kg          │  │ 140 kg          │
    │ $10.17/kg       │  │ $10.00/kg       │  │ $8.57/kg        │
    └─────────────────┘  └─────────────────┘  └─────────────────┘

USE CASE: If LOT-MANGO-20250105-001 is found to be contaminated,
          ALL three product batches must be recalled.
</pre>
                </div>

                <h3>Batch Tracking Strategies</h3>

                <h4>Strategy A: Continuous (New Batch Each Step)</h4>
                <pre><code>LOT-001 → [WASH] → INT-WASH-001 → [CUT] → INT-CUT-001 → [MIX] → INT-MIX-001 → [PACK] → FG-001

Pros: Maximum granularity, trace to exact step
Cons: Many batch numbers to manage</code></pre>

                <h4>Strategy B: Inherited (Carry Through Until Split)</h4>
                <pre><code>LOT-001 → [WASH] → LOT-001 → [CUT] → LOT-001 → [SEGREGATE] → LOT-001-9MM
                                                            → LOT-001-8MM
                                                            → LOT-001-7MM

Pros: Fewer batch numbers, clear lineage
Cons: Less step-level granularity</code></pre>

                <h3>Batch Merging Rules</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Scenario</th>
                                <th>Rule</th>
                                <th>Traceability Impact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Same product, same day, same source</td>
                                <td>Can merge into single batch</td>
                                <td>Combined history</td>
                            </tr>
                            <tr>
                                <td>Same product, different days</td>
                                <td>Keep separate OR merge with FIFO tracking</td>
                                <td>Need to track proportions</td>
                            </tr>
                            <tr>
                                <td>Same product, different sources</td>
                                <td>New batch with multi-source link</td>
                                <td>Links to all source batches</td>
                            </tr>
                            <tr>
                                <td>Different products (blending)</td>
                                <td>New batch required</td>
                                <td>Links to all input batches</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Batch Record</h3>
                <pre><code>{
  "batch": {
    "batch_id": "BATCH-PICKLE-20250107-001",
    "item_code": "FG-MANGO-PICKLE-500G",
    "quantity": 120,
    "unit": "kg",

    "production": {
      "production_order_id": "PRD-2025-0107-001",
      "production_date": "2025-01-07",
      "bom_code": "RCP-PICKLE-MANGO-001",
      "bom_version": "1.2"
    },

    "source_batches": [
      { "batch_id": "LOT-MANGO-20250105-001", "qty_used": 100, "unit": "kg" },
      { "batch_id": "LOT-OIL-20250102-003", "qty_used": 20, "unit": "L" },
      { "batch_id": "LOT-SPICE-20241220-001", "qty_used": 5, "unit": "kg" },
      { "batch_id": "LOT-SALT-20241215-002", "qty_used": 3, "unit": "kg" }
    ],

    "quality": {
      "status": "PASSED",
      "tested_by": "QC-EMP-003",
      "tested_at": "2025-01-10T14:00:00",
      "parameters": {
        "pH": 4.2,
        "moisture_percent": 35,
        "salt_percent": 8,
        "appearance": "Good"
      }
    },

    "dates": {
      "manufactured_date": "2025-01-07",
      "expiry_date": "2026-01-07",
      "best_before": "2025-10-07"
    },

    "location": {
      "warehouse": "Warehouse A",
      "zone": "Finished Goods",
      "bin": "Bin 14"
    },

    "cost": {
      "total_cost": 1200.00,
      "cost_per_unit": 10.00,
      "currency": "USD"
    }
  }
}</code></pre>

                <h3>Traceability Reports</h3>
                <div class="card-grid">
                    <div class="feature-card">
                        <div class="feature-icon">&#128270;</div>
                        <h3>Forward Trace Report</h3>
                        <p>Input: Raw material batch. Output: All finished products, quantities, customers, invoices.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128269;</div>
                        <h3>Backward Trace Report</h3>
                        <p>Input: Finished product batch. Output: All raw materials, suppliers, processes, operators, costs.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#128279;</div>
                        <h3>Sibling Report</h3>
                        <p>Input: Any batch. Output: All batches sharing same raw material source.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">&#9888;</div>
                        <h3>Recall Impact Report</h3>
                        <p>Input: Defective batch. Output: All affected products, customers, quantities for recall.</p>
                    </div>
                </div>

                <h3 id="cost-calculation">2.5 Cost Calculation</h3>
                <p>The system supports comprehensive cost tracking with two parallel approaches: <strong>Standard Costing</strong> (planned/budgeted costs) and <strong>Actual Costing</strong> (real costs incurred). This dual approach enables variance analysis and cost control.</p>

                <div class="alert alert-info">
                    <span class="alert-icon">&#128176;</span>
                    <div><strong>Cost Philosophy:</strong> Every output carries a cost. Costs accumulate through each processing step. The system tracks where every rupee/dollar goes - from raw materials to finished goods.</div>
                </div>

                <!-- Standard vs Actual Costing -->
                <div class="card">
                    <h3>2.5.1 Standard vs Actual Costing</h3>

                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Standard Costing</th>
                                <th>Actual Costing</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Definition</strong></td>
                                <td>Pre-determined costs based on estimates, historical data, or budgets</td>
                                <td>Real costs recorded during production</td>
                            </tr>
                            <tr>
                                <td><strong>When Set</strong></td>
                                <td>Before production (in BOM/BOM)</td>
                                <td>During/after production (in Production Order)</td>
                            </tr>
                            <tr>
                                <td><strong>Material Cost</strong></td>
                                <td>Standard price per unit × Expected quantity</td>
                                <td>Actual purchase price × Actual quantity used</td>
                            </tr>
                            <tr>
                                <td><strong>Labor Cost</strong></td>
                                <td>Standard rate × Estimated hours</td>
                                <td>Actual wages × Actual hours worked</td>
                            </tr>
                            <tr>
                                <td><strong>Machine Cost</strong></td>
                                <td>Standard rate × Estimated machine hours</td>
                                <td>Actual rate × Actual machine hours</td>
                            </tr>
                            <tr>
                                <td><strong>Overhead</strong></td>
                                <td>Pre-allocated based on formula</td>
                                <td>Actual overhead allocated post-production</td>
                            </tr>
                            <tr>
                                <td><strong>Purpose</strong></td>
                                <td>Planning, pricing, budgeting, quotations</td>
                                <td>True cost analysis, profitability, inventory valuation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Cost Components -->
                <div class="card">
                    <h3>2.5.2 Cost Components</h3>
                    <p>Each process step can incur multiple types of costs:</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Direct Costs</h4>
                            <ul>
                                <li><strong>Material Cost:</strong> Cost of inputs consumed</li>
                                <li><strong>Labor Cost:</strong> Wages for workers performing the step</li>
                                <li><strong>Machine Cost:</strong> Equipment usage charges</li>
                                <li><strong>Energy Cost:</strong> Electricity, fuel, gas consumption</li>
                                <li><strong>Consumables:</strong> Gloves, filters, cleaning agents, etc.</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Indirect Costs (Overhead)</h4>
                            <ul>
                                <li><strong>Fixed Overhead:</strong> Rent, depreciation, insurance</li>
                                <li><strong>Variable Overhead:</strong> Utilities, maintenance</li>
                                <li><strong>Administrative:</strong> Supervision, quality control</li>
                                <li><strong>External Services:</strong> Third-party processing, testing</li>
                            </ul>
                        </div>
                    </div>

                    <h4>Cost Calculation Methods</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Formula</th>
                                <th>Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">PER_UNIT</span></td>
                                <td>Rate × Output Quantity</td>
                                <td>Piece-rate labor, packaging materials</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">PER_HOUR</span></td>
                                <td>Rate × Hours Spent</td>
                                <td>Labor wages, machine rental</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">FIXED</span></td>
                                <td>Fixed Amount (regardless of quantity)</td>
                                <td>Setup costs, testing fees</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">PERCENTAGE</span></td>
                                <td>Base Cost × Percentage</td>
                                <td>Overhead allocation, margin calculation</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">PER_BATCH</span></td>
                                <td>Fixed per production run</td>
                                <td>Batch testing, equipment setup</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Cost Accumulation -->
                <div class="card">
                    <h3>2.5.3 Cost Accumulation Through Steps</h3>
                    <p>Costs accumulate as products move through processing steps. Each step adds its costs to the incoming material cost.</p>

                    <div class="flow-diagram">
                        <div class="flow-box">
                            <strong>Raw Material</strong><br>
                            <small>Purchase Cost: ₹100/kg</small><br>
                            Input: 10 kg = <strong>₹1,000</strong>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box highlight">
                            <strong>Step 1: Cleaning</strong><br>
                            <small>Labor: ₹50, Energy: ₹30</small><br>
                            Step Cost: <strong>₹80</strong>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box highlight">
                            <strong>Step 2: Processing</strong><br>
                            <small>Labor: ₹100, Machine: ₹70</small><br>
                            Step Cost: <strong>₹170</strong>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Output: 8 kg</strong><br>
                            <small>Total: ₹1,000+₹80+₹170</small><br>
                            Cost: <strong>₹1,250</strong><br>
                            Per kg: <strong>₹156.25</strong>
                        </div>
                    </div>

                    <div class="alert alert-warning">
                        <span class="alert-icon">&#9888;</span>
                        <div><strong>Yield Loss Impact:</strong> When yield is less than input (10 kg → 8 kg), the cost per unit increases because total cost is spread over fewer units.</div>
                    </div>
                </div>

                <!-- Cost Distribution for Splits -->
                <div class="card">
                    <h3>2.5.4 Cost Distribution for Multiple Outputs</h3>
                    <p>When a process produces multiple outputs (SPLIT or COMPLEX), the total cost must be distributed among outputs. The system supports multiple distribution methods:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Distribution Method</th>
                                <th>Logic</th>
                                <th>When to Use</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">BY_YIELD</span></td>
                                <td>Cost distributed proportionally to output quantity (weight/volume)</td>
                                <td>When all outputs have similar value per unit</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">BY_MARKET_VALUE</span></td>
                                <td>Cost distributed based on market/selling price ratios</td>
                                <td>When outputs have different values (premium vs economy)</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">PRIMARY_PRODUCT</span></td>
                                <td>Main product bears all cost; by-products get zero cost</td>
                                <td>When by-products are incidental/waste with some value</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">CUSTOM</span></td>
                                <td>User-defined percentage allocation</td>
                                <td>Complex scenarios requiring business judgment</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example: Coconut Processing (Total Cost: ₹10,000)</h4>
                    <p>Process produces: Coconut Oil (5L), Coconut Milk (3L), Coconut Shell (2kg), Coconut Husk (4kg)</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Output</th>
                                <th>Quantity</th>
                                <th>BY_YIELD</th>
                                <th>BY_MARKET_VALUE</th>
                                <th>PRIMARY_PRODUCT</th>
                                <th>CUSTOM (60/25/10/5)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Coconut Oil</td>
                                <td>5 L</td>
                                <td>₹3,571 (35.7%)</td>
                                <td>₹6,250 (62.5%)</td>
                                <td>₹10,000 (100%)</td>
                                <td>₹6,000 (60%)</td>
                            </tr>
                            <tr>
                                <td>Coconut Milk</td>
                                <td>3 L</td>
                                <td>₹2,143 (21.4%)</td>
                                <td>₹2,500 (25%)</td>
                                <td>₹0 (0%)</td>
                                <td>₹2,500 (25%)</td>
                            </tr>
                            <tr>
                                <td>Coconut Shell</td>
                                <td>2 kg</td>
                                <td>₹1,429 (14.3%)</td>
                                <td>₹750 (7.5%)</td>
                                <td>₹0 (0%)</td>
                                <td>₹1,000 (10%)</td>
                            </tr>
                            <tr>
                                <td>Coconut Husk</td>
                                <td>4 kg</td>
                                <td>₹2,857 (28.6%)</td>
                                <td>₹500 (5%)</td>
                                <td>₹0 (0%)</td>
                                <td>₹500 (5%)</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="alert alert-info">
                        <span class="alert-icon">&#128161;</span>
                        <div><strong>Note:</strong> Market value calculation uses selling prices. If Oil sells at ₹200/L (5×200=₹1,000), Milk at ₹150/L (3×150=₹450), Shell at ₹60/kg (₹120), Husk at ₹20/kg (₹80) → Total Market Value = ₹1,650. Oil's share = 1000/1650 = 62.5%</div>
                    </div>
                </div>

                <!-- Variance Analysis -->
                <div class="card">
                    <h3>2.5.5 Variance Analysis</h3>
                    <p>Variance = Actual Cost - Standard Cost. The system identifies and categorizes variances for cost control.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Variance Type</th>
                                <th>Formula</th>
                                <th>Possible Causes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Material Price Variance</strong></td>
                                <td>(Actual Price - Standard Price) × Actual Qty</td>
                                <td>Price changes, different supplier, quality grade</td>
                            </tr>
                            <tr>
                                <td><strong>Material Usage Variance</strong></td>
                                <td>(Actual Qty - Standard Qty) × Standard Price</td>
                                <td>Wastage, quality issues, operator skill</td>
                            </tr>
                            <tr>
                                <td><strong>Labor Rate Variance</strong></td>
                                <td>(Actual Rate - Standard Rate) × Actual Hours</td>
                                <td>Overtime, different skill level, wage increases</td>
                            </tr>
                            <tr>
                                <td><strong>Labor Efficiency Variance</strong></td>
                                <td>(Actual Hours - Standard Hours) × Standard Rate</td>
                                <td>Training level, equipment issues, complexity</td>
                            </tr>
                            <tr>
                                <td><strong>Overhead Variance</strong></td>
                                <td>Actual Overhead - Applied Overhead</td>
                                <td>Volume changes, cost changes, allocation base</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example: Production Order Variance Report</h4>
                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 20px; font-family: monospace; font-size: 13px;">
                        <pre style="margin: 0; white-space: pre-wrap;">
╔════════════════════════════════════════════════════════════════════╗
║  VARIANCE REPORT - Production Order: PO-2024-001542                ║
║  Product: Product Oil | Date: 2024-01-15 | Batch: B-20240115-001   ║
╠════════════════════════════════════════════════════════════════════╣
║  COST COMPONENT        │ STANDARD    │ ACTUAL      │ VARIANCE      ║
╠════════════════════════════════════════════════════════════════════╣
║  Raw Materials         │  ₹45,000    │  ₹48,500    │  ₹3,500 (U)   ║
║    - Product Pods     │  ₹42,000    │  ₹45,000    │  ₹3,000 (U)    ║
║    - Solvents          │   ₹3,000    │   ₹3,500    │    ₹500 (U)   ║
╠════════════════════════════════════════════════════════════════════╣
║  Labor                 │   ₹8,000    │   ₹7,200    │    ₹800 (F)   ║
║    - Extraction        │   ₹5,000    │   ₹4,500    │    ₹500 (F)   ║
║    - Quality Testing   │   ₹3,000    │   ₹2,700    │    ₹300 (F)   ║
╠════════════════════════════════════════════════════════════════════╣
║  Machine/Equipment     │   ₹4,000    │   ₹4,200    │    ₹200 (U)   ║
║  Energy                │   ₹2,500    │   ₹2,800    │    ₹300 (U)   ║
║  Overhead              │   ₹3,000    │   ₹3,000    │      ₹0 (-)   ║
╠════════════════════════════════════════════════════════════════════╣
║  TOTAL COST            │  ₹62,500    │  ₹65,700    │  ₹3,200 (U)   ║
╠════════════════════════════════════════════════════════════════════╣
║  Output Quantity       │    50 L     │    48 L     │               ║
║  Cost Per Liter        │  ₹1,250     │  ₹1,369     │    ₹119 (U)   ║
╚════════════════════════════════════════════════════════════════════╝
  (U) = Unfavorable variance | (F) = Favorable variance
                        </pre>
                    </div>
                </div>

                <!-- Cost Tracking Levels -->
                <div class="card">
                    <h3>2.5.6 Cost Tracking Levels</h3>
                    <p>The system tracks costs at multiple levels for different analysis needs:</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Operational Levels</h4>
                            <ul>
                                <li><strong>Step Level:</strong> Cost of each processing step</li>
                                <li><strong>Batch Level:</strong> Total cost per production batch</li>
                                <li><strong>Order Level:</strong> Cost per production order</li>
                                <li><strong>Product Level:</strong> Average cost per product (across batches)</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Time-Based Levels</h4>
                            <ul>
                                <li><strong>Daily:</strong> Costs incurred on a specific production date</li>
                                <li><strong>Weekly/Monthly:</strong> Aggregated for period reporting</li>
                                <li><strong>Historical:</strong> Trend analysis over time</li>
                                <li><strong>Projected:</strong> Future cost estimates</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <h3 id="quality-control">2.6 Quality Control & Inspection</h3>
                <p>Quality control ensures products meet defined standards at every stage. The system supports configurable quality checkpoints, parameters, and workflows for handling pass, fail, and hold scenarios.</p>

                <div class="alert alert-success">
                    <span class="alert-icon">&#9989;</span>
                    <div><strong>Quality Philosophy:</strong> Prevention over detection. Quality is built into the process, not inspected in afterward. Every checkpoint is an opportunity to catch issues early.</div>
                </div>

                <!-- Quality Checkpoints -->
                <div class="card">
                    <h3>2.6.1 Quality Checkpoints</h3>
                    <p>Checkpoints are defined points in the process where quality inspection occurs. They can be mandatory or optional.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Checkpoint Type</th>
                                <th>When</th>
                                <th>Purpose</th>
                                <th>Mandatory?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">INCOMING</span></td>
                                <td>Raw material receipt</td>
                                <td>Verify supplier quality before accepting</td>
                                <td>Configurable</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">IN_PROCESS</span></td>
                                <td>During/after process steps</td>
                                <td>Catch issues early, prevent waste</td>
                                <td>Per step config</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">FINAL</span></td>
                                <td>Before moving to finished goods</td>
                                <td>Ensure product meets specifications</td>
                                <td>Usually Yes</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">PRE_SHIPMENT</span></td>
                                <td>Before dispatch</td>
                                <td>Final verification before customer delivery</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">PERIODIC</span></td>
                                <td>Time-based (hourly, daily)</td>
                                <td>Ongoing process monitoring</td>
                                <td>Optional</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="flow-diagram">
                        <div class="flow-box" style="background: #e3f2fd;">
                            <strong>Raw Material</strong><br>
                            <small>&#128269; INCOMING QC</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Step 1</strong><br>
                            <small>Process</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #fff3e0;">
                            <strong>Step 2</strong><br>
                            <small>&#128269; IN_PROCESS QC</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Step 3</strong><br>
                            <small>Process</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #e8f5e9;">
                            <strong>Output</strong><br>
                            <small>&#128269; FINAL QC</small>
                        </div>
                    </div>
                </div>

                <!-- Quality Parameters -->
                <div class="card">
                    <h3>2.6.2 Quality Parameters</h3>
                    <p>Parameters are the specific attributes checked at each checkpoint. These are configurable per product and checkpoint.</p>

                    <h4>Parameter Types</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Example</th>
                                <th>Validation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">NUMERIC_RANGE</span></td>
                                <td>Value must fall within min-max range</td>
                                <td>pH: 6.5 - 7.5</td>
                                <td>min ≤ value ≤ max</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">NUMERIC_MIN</span></td>
                                <td>Value must be at least minimum</td>
                                <td>Purity: ≥ 98%</td>
                                <td>value ≥ min</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">NUMERIC_MAX</span></td>
                                <td>Value must not exceed maximum</td>
                                <td>Moisture: ≤ 5%</td>
                                <td>value ≤ max</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">BOOLEAN</span></td>
                                <td>Pass/Fail check</td>
                                <td>Visual defects: None</td>
                                <td>true/false</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">CATEGORICAL</span></td>
                                <td>Must match allowed values</td>
                                <td>Grade: A, B, C</td>
                                <td>value in [allowed]</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-primary">TEXT</span></td>
                                <td>Descriptive observation</td>
                                <td>Color description</td>
                                <td>Not empty (if required)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example: Quality Parameters for Coconut Oil</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Specification</th>
                                <th>Unit</th>
                                <th>Checkpoint</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Moisture Content</td>
                                <td>NUMERIC_MAX</td>
                                <td>≤ 0.5</td>
                                <td>%</td>
                                <td>FINAL</td>
                            </tr>
                            <tr>
                                <td>Free Fatty Acid</td>
                                <td>NUMERIC_MAX</td>
                                <td>≤ 0.5</td>
                                <td>%</td>
                                <td>FINAL</td>
                            </tr>
                            <tr>
                                <td>Peroxide Value</td>
                                <td>NUMERIC_MAX</td>
                                <td>≤ 3.0</td>
                                <td>meq/kg</td>
                                <td>FINAL</td>
                            </tr>
                            <tr>
                                <td>Color (Lovibond)</td>
                                <td>NUMERIC_RANGE</td>
                                <td>1.0 - 3.0</td>
                                <td>Y+5R</td>
                                <td>FINAL</td>
                            </tr>
                            <tr>
                                <td>Odor</td>
                                <td>CATEGORICAL</td>
                                <td>Normal, Slight, Off</td>
                                <td>-</td>
                                <td>FINAL</td>
                            </tr>
                            <tr>
                                <td>Visual Clarity</td>
                                <td>BOOLEAN</td>
                                <td>Clear (Yes/No)</td>
                                <td>-</td>
                                <td>FINAL</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- QC Results & Statuses -->
                <div class="card">
                    <h3>2.6.3 QC Results & Statuses</h3>
                    <p>Each quality check results in one of three statuses:</p>

                    <div class="grid-3">
                        <div class="info-box" style="border-left: 4px solid var(--success-color);">
                            <h4 style="color: var(--success-color);">&#9989; PASS</h4>
                            <p>All parameters within specification</p>
                            <ul>
                                <li>Batch proceeds to next step</li>
                                <li>QC record saved</li>
                                <li>No action required</li>
                            </ul>
                        </div>
                        <div class="info-box" style="border-left: 4px solid var(--warning-color);">
                            <h4 style="color: var(--warning-color);">&#9888; HOLD</h4>
                            <p>Parameters borderline or need review</p>
                            <ul>
                                <li>Batch quarantined</li>
                                <li>Supervisor review required</li>
                                <li>May be released, downgraded, or rejected</li>
                            </ul>
                        </div>
                        <div class="info-box" style="border-left: 4px solid var(--danger-color);">
                            <h4 style="color: var(--danger-color);">&#10060; FAIL</h4>
                            <p>One or more parameters out of spec</p>
                            <ul>
                                <li>Batch cannot proceed</li>
                                <li>Requires disposition decision</li>
                                <li>Options: Reject, Rework, Downgrade</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Rejection Handling -->
                <div class="card">
                    <h3>2.6.4 Rejection Handling & Disposition</h3>
                    <p>When a batch fails QC, the system tracks the disposition decision:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Disposition</th>
                                <th>Description</th>
                                <th>Cost Impact</th>
                                <th>Traceability</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-danger">SCRAP</span></td>
                                <td>Complete write-off, cannot be used</td>
                                <td>Full cost written off as loss</td>
                                <td>Batch marked as scrapped</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">REWORK</span></td>
                                <td>Reprocess to meet specifications</td>
                                <td>Additional cost added to batch</td>
                                <td>New steps added to batch history</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">DOWNGRADE</span></td>
                                <td>Accept as lower grade product</td>
                                <td>Reduced selling price/value</td>
                                <td>Grade changed in batch record</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">USE_AS_IS</span></td>
                                <td>Accept with deviation approval</td>
                                <td>No change (requires authorization)</td>
                                <td>Deviation recorded</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">RETURN_TO_SUPPLIER</span></td>
                                <td>Return raw material to supplier</td>
                                <td>Credit note expected</td>
                                <td>Linked to purchase record</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-primary">CONVERT_TO_WASTE</span></td>
                                <td>Convert to waste type for other use</td>
                                <td>Partial value recovery</td>
                                <td>New waste batch created</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Rework Process -->
                <div class="card">
                    <h3>2.6.5 Rework Process</h3>
                    <p>Rework allows failed batches to be reprocessed to meet quality standards. The system tracks rework as additional steps in the batch history.</p>

                    <div class="flow-diagram">
                        <div class="flow-box" style="background: #ffebee;">
                            <strong>Batch: B-001</strong><br>
                            <small>QC Status: FAIL</small><br>
                            <small>Reason: Moisture 6.2%</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #fff3e0;">
                            <strong>Disposition</strong><br>
                            <small>Decision: REWORK</small><br>
                            <small>Approved by: Supervisor</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box highlight">
                            <strong>Rework Step</strong><br>
                            <small>Process: Re-Drying</small><br>
                            <small>Cost: +₹500</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #e8f5e9;">
                            <strong>Re-QC</strong><br>
                            <small>Moisture: 4.8%</small><br>
                            <small>Status: PASS &#9989;</small>
                        </div>
                    </div>

                    <div class="alert alert-info">
                        <span class="alert-icon">&#128270;</span>
                        <div><strong>Rework Tracking:</strong> The batch history shows: Original processing → QC Fail → Rework decision → Rework step → Re-QC Pass. Total cost includes original + rework costs.</div>
                    </div>

                    <h4>Rework Limits</h4>
                    <p>Configurable limits prevent endless rework cycles:</p>
                    <ul>
                        <li><strong>Max Rework Attempts:</strong> e.g., Maximum 2 rework attempts per batch</li>
                        <li><strong>Rework Cost Threshold:</strong> e.g., If rework cost exceeds 30% of batch value, force SCRAP</li>
                        <li><strong>Time Limit:</strong> e.g., Rework must be completed within 48 hours of failure</li>
                    </ul>
                </div>

                <!-- Shelf Life & Expiry -->
                <div class="card">
                    <h3>2.6.6 Shelf Life & Expiry Tracking</h3>
                    <p>Each product type can have a defined shelf life. The system calculates expiry dates and tracks inventory approaching expiry.</p>

                    <h4>Shelf Life Configuration</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Setting</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Shelf Life Duration</strong></td>
                                <td>Days from manufacture to expiry</td>
                                <td>365 days</td>
                            </tr>
                            <tr>
                                <td><strong>Shelf Life Basis</strong></td>
                                <td>Calculate from manufacture or QC approval date</td>
                                <td>From QC Approval</td>
                            </tr>
                            <tr>
                                <td><strong>Warning Threshold</strong></td>
                                <td>Days before expiry to trigger warning</td>
                                <td>30 days</td>
                            </tr>
                            <tr>
                                <td><strong>Minimum Shelf Life for Sale</strong></td>
                                <td>Don't ship if remaining life below threshold</td>
                                <td>180 days (50%)</td>
                            </tr>
                            <tr>
                                <td><strong>Retest Period</strong></td>
                                <td>Interval for re-testing if still in inventory</td>
                                <td>Every 6 months</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="alert alert-warning">
                        <span class="alert-icon">&#128197;</span>
                        <div><strong>FEFO Principle:</strong> First Expiry, First Out. The system recommends picking batches with earliest expiry date first to minimize expired inventory losses.</div>
                    </div>

                    <h4>Expiry Status Indicators</h4>
                    <div class="grid-2">
                        <div class="info-box">
                            <span class="badge badge-success">FRESH</span> &gt; 60 days remaining<br>
                            <span class="badge badge-info">ADEQUATE</span> 30-60 days remaining<br>
                            <span class="badge badge-warning">NEAR_EXPIRY</span> &lt; 30 days remaining<br>
                            <span class="badge badge-danger">EXPIRED</span> Past expiry date
                        </div>
                        <div class="info-box">
                            <strong>Auto-Actions:</strong>
                            <ul>
                                <li>NEAR_EXPIRY: Alert purchasing/sales team</li>
                                <li>NEAR_EXPIRY: Block from new sales orders</li>
                                <li>EXPIRED: Auto-quarantine, require disposition</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- QC Workflow -->
                <div class="card">
                    <h3>2.6.7 QC Workflow Integration</h3>
                    <p>Quality control integrates with production workflow. A batch cannot proceed until required QC checkpoints pass.</p>

                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 20px; font-family: monospace; font-size: 12px;">
                        <pre style="margin: 0; white-space: pre-wrap;">
Production Step Completion
         │
         ▼
    ┌─────────────────┐
    │ QC Required for │───No───▶ Proceed to Next Step
    │   this step?    │
    └────────┬────────┘
             │ Yes
             ▼
    ┌─────────────────┐
    │   Perform QC    │
    │  Inspection     │
    └────────┬────────┘
             │
    ┌────────┴────────┐
    │                 │
    ▼                 ▼
┌───────┐        ┌────────┐
│ PASS  │        │ FAIL/  │
│       │        │ HOLD   │
└───┬───┘        └────┬───┘
    │                 │
    ▼                 ▼
Proceed to      ┌────────────────┐
Next Step       │   Disposition  │
                │    Decision    │
                └───────┬────────┘
                        │
        ┌───────────────┼───────────────┐
        ▼               ▼               ▼
    ┌───────┐      ┌────────┐      ┌─────────┐
    │ SCRAP │      │ REWORK │      │DOWNGRADE│
    └───────┘      └────┬───┘      └─────────┘
                        │
                        ▼
                   Rework Step
                        │
                        ▼
                    Re-QC ────▶ (Loop back)
                        </pre>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 3: INVENTORY & WAREHOUSE MANAGEMENT
                 ============================================================ -->
            <section id="inventory">
                <h2>3. Inventory & Warehouse Management</h2>
                <p>The system provides comprehensive inventory tracking across warehouses, zones, and bins. Every material movement is recorded for full traceability and accurate stock levels.</p>

                <div class="alert alert-info">
                    <span class="alert-icon">&#128230;</span>
                    <div><strong>Inventory Philosophy:</strong> Know exactly what you have, where it is, and what condition it's in - at all times. Real-time visibility enables better decisions.</div>
                </div>

                <!-- Warehouse Structure -->
                <div class="card">
                    <h3>3.1 Warehouse Structure</h3>
                    <p>Hierarchical organization of storage locations:</p>

                    <div class="flow-diagram">
                        <div class="flow-box">
                            <strong>Company</strong><br>
                            <small>Multiple Sites</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Warehouse</strong><br>
                            <small>Physical Building</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Zone</strong><br>
                            <small>Area/Section</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Rack/Aisle</strong><br>
                            <small>Storage Unit</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Bin/Slot</strong><br>
                            <small>Specific Location</small>
                        </div>
                    </div>

                    <h4>Zone Types</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Zone Type</th>
                                <th>Purpose</th>
                                <th>Typical Contents</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">RAW_MATERIAL</span></td>
                                <td>Store incoming raw materials</td>
                                <td>Purchased ingredients, components</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">WIP</span></td>
                                <td>Work-in-progress storage</td>
                                <td>Intermediate products between steps</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">FINISHED_GOODS</span></td>
                                <td>Ready for dispatch</td>
                                <td>Completed products awaiting shipment</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">QUARANTINE</span></td>
                                <td>QC pending or failed</td>
                                <td>Materials awaiting inspection/disposition</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">PACKAGING</span></td>
                                <td>Packaging materials</td>
                                <td>Boxes, labels, containers</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">REJECTED</span></td>
                                <td>Failed QC, awaiting disposal</td>
                                <td>Scrapped materials</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Stock Movements -->
                <div class="card">
                    <h3>3.2 Stock Movements</h3>
                    <p>Every inventory change is recorded as a movement transaction:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Movement Type</th>
                                <th>Direction</th>
                                <th>Trigger</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-success">RECEIPT</span></td>
                                <td>IN</td>
                                <td>Purchase Order / GRN</td>
                                <td>Raw material received from supplier</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-primary">PRODUCTION_IN</span></td>
                                <td>IN</td>
                                <td>Production Order completion</td>
                                <td>Finished goods from manufacturing</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">PRODUCTION_OUT</span></td>
                                <td>OUT</td>
                                <td>Production Order start</td>
                                <td>Raw materials issued to production</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">DISPATCH</span></td>
                                <td>OUT</td>
                                <td>Sales Order / Delivery</td>
                                <td>Goods shipped to customer</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">TRANSFER</span></td>
                                <td>INTERNAL</td>
                                <td>Stock Transfer Request</td>
                                <td>Move between warehouses/zones</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">ADJUSTMENT</span></td>
                                <td>IN/OUT</td>
                                <td>Stock Count / Correction</td>
                                <td>Correct discrepancies after audit</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">SCRAP</span></td>
                                <td>OUT</td>
                                <td>QC Rejection / Expiry</td>
                                <td>Write-off damaged/expired stock</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">RETURN</span></td>
                                <td>IN</td>
                                <td>Customer Return</td>
                                <td>Product returned by customer</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Stock Levels -->
                <div class="card">
                    <h3>3.3 Stock Level Management</h3>
                    <p>Configure stock thresholds per product per warehouse:</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Stock Thresholds</h4>
                            <ul>
                                <li><strong>Minimum Stock:</strong> Trigger reorder alert</li>
                                <li><strong>Reorder Point:</strong> Initiate purchase request</li>
                                <li><strong>Reorder Quantity:</strong> Standard order amount</li>
                                <li><strong>Maximum Stock:</strong> Storage capacity limit</li>
                                <li><strong>Safety Stock:</strong> Buffer for demand variability</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Stock Status Colors</h4>
                            <p><span class="badge badge-danger">CRITICAL</span> Below minimum</p>
                            <p><span class="badge badge-warning">LOW</span> Below reorder point</p>
                            <p><span class="badge badge-success">ADEQUATE</span> Normal levels</p>
                            <p><span class="badge badge-info">HIGH</span> Above optimal</p>
                            <p><span class="badge badge-secondary">OVERSTOCK</span> Near/at maximum</p>
                        </div>
                    </div>
                </div>

                <!-- Picking Strategies -->
                <div class="card">
                    <h3>3.4 Picking Strategies</h3>
                    <p>Configurable rules for selecting which batches to use:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Strategy</th>
                                <th>Logic</th>
                                <th>Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">FIFO</span></td>
                                <td>First In, First Out - oldest stock first</td>
                                <td>General inventory, prevent aging</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">FEFO</span></td>
                                <td>First Expiry, First Out - earliest expiry first</td>
                                <td>Perishables, expiry-sensitive items</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">LIFO</span></td>
                                <td>Last In, First Out - newest stock first</td>
                                <td>Non-perishable bulk materials</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">BATCH_SPECIFIC</span></td>
                                <td>User selects specific batch</td>
                                <td>Customer requirements, special orders</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Stock Valuation -->
                <div class="card">
                    <h3>3.5 Stock Valuation Methods</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Calculation</th>
                                <th>Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Standard Cost</strong></td>
                                <td>Fixed predetermined cost per unit</td>
                                <td>Budgeting, variance analysis</td>
                            </tr>
                            <tr>
                                <td><strong>Weighted Average</strong></td>
                                <td>Total cost / Total quantity</td>
                                <td>Commodities, fluctuating prices</td>
                            </tr>
                            <tr>
                                <td><strong>FIFO Cost</strong></td>
                                <td>Cost of oldest inventory first</td>
                                <td>Rising price environments</td>
                            </tr>
                            <tr>
                                <td><strong>Actual/Specific</strong></td>
                                <td>Actual cost per batch</td>
                                <td>High-value items, traceability</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 4: WASTAGE, LOSS & BY-PRODUCT TRACKING
                 ============================================================ -->
            <section id="wastage">
                <h2>4. Wastage, Loss & By-product Tracking</h2>
                <p>Comprehensive tracking of material losses, process waste, and by-products. Understanding where losses occur enables optimization and cost reduction.</p>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div><strong>Waste Management Goal:</strong> Track every gram. Identify waste sources. Convert waste to value where possible. Minimize true losses.</div>
                </div>

                <!-- Types of Loss -->
                <div class="card">
                    <h3>4.1 Types of Material Loss</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Loss Type</th>
                                <th>Description</th>
                                <th>Example</th>
                                <th>Recovery Potential</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-warning">PROCESS_LOSS</span></td>
                                <td>Expected loss during processing</td>
                                <td>Evaporation during heating</td>
                                <td>None (inherent)</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">HANDLING_LOSS</span></td>
                                <td>Spillage, breakage during handling</td>
                                <td>Dropped container</td>
                                <td>Preventable</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">BY_PRODUCT</span></td>
                                <td>Secondary output with value</td>
                                <td>Coconut shell from oil extraction</td>
                                <td>Sellable</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">WASTE</span></td>
                                <td>Unusable residue</td>
                                <td>Contaminated material</td>
                                <td>May be input elsewhere</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">SCRAP</span></td>
                                <td>QC rejected material</td>
                                <td>Off-spec batch</td>
                                <td>Rework or disposal</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-primary">SAMPLE</span></td>
                                <td>Used for testing/QC</td>
                                <td>Lab samples</td>
                                <td>Expected cost</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Yield Tracking -->
                <div class="card">
                    <h3>4.2 Yield Tracking</h3>
                    <p>Track actual vs expected output at each process step:</p>

                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 20px; font-family: monospace; font-size: 13px;">
                        <pre style="margin: 0; white-space: pre-wrap;">
╔═══════════════════════════════════════════════════════════════════════╗
║  YIELD REPORT - Product Oil Extraction | Date: 2024-01-15             ║
╠═══════════════════════════════════════════════════════════════════════╣
║  INPUT                                                                ║
║    Product Pods: 100 kg @ ₹4,200/kg = ₹420,000                        ║
╠═══════════════════════════════════════════════════════════════════════╣
║  OUTPUTS                          Expected    Actual      Variance    ║
╠═══════════════════════════════════════════════════════════════════════╣
║  Product Oil (PRIMARY)           5.0 L       4.8 L       -0.2 L       ║
║  Product Oleoresin (BY_PRODUCT)  2.0 kg      2.1 kg      +0.1 kg      ║
║  Spent Product (WASTE)           90.0 kg     89.5 kg     -0.5 kg      ║
║  Process Loss (LOSS)              3.0 kg      3.6 kg      +0.6 kg     ║
╠═══════════════════════════════════════════════════════════════════════╣
║  TOTAL ACCOUNTED                  100.0 kg    100.0 kg    ✓ Balanced  ║
╠═══════════════════════════════════════════════════════════════════════╣
║  YIELD EFFICIENCY                                                     ║
║    Oil Yield: 4.8% (Target: 5.0%) - Below target by 4%                ║
║    Recovery Rate: 96.4% (Loss: 3.6%)                                  ║
╚═══════════════════════════════════════════════════════════════════════╝
                        </pre>
                    </div>
                </div>

                <!-- Waste to Product -->
                <div class="card">
                    <h3>4.3 Waste-to-Product Conversion</h3>
                    <p>The system supports converting waste from one process into raw material for another:</p>

                    <div class="flow-diagram">
                        <div class="flow-box">
                            <strong>Process A</strong><br>
                            <small>Product Oil Extraction</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #fff3e0;">
                            <strong>Waste Output</strong><br>
                            <small>Spent Product</small><br>
                            <small>Type: WASTE</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box highlight">
                            <strong>Conversion</strong><br>
                            <small>Mark as Input</small><br>
                            <small>for Process B</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #e8f5e9;">
                            <strong>Process B</strong><br>
                            <small>Incense Stick Making</small><br>
                            <small>Input: Spent Product</small>
                        </div>
                    </div>

                    <div class="alert alert-success">
                        <span class="alert-icon">&#9851;</span>
                        <div><strong>Circular Economy:</strong> By tracking waste outputs and linking them as inputs to other processes, the system enables waste valorization and reduces overall material costs.</div>
                    </div>
                </div>

                <!-- Loss Analysis -->
                <div class="card">
                    <h3>4.4 Loss Analysis Dashboard</h3>
                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Loss Metrics</h4>
                            <ul>
                                <li><strong>Process Loss %:</strong> By step, product, period</li>
                                <li><strong>Handling Loss %:</strong> By location, operator</li>
                                <li><strong>Scrap Rate:</strong> QC rejection percentage</li>
                                <li><strong>Yield Variance:</strong> Actual vs standard</li>
                                <li><strong>Loss Value:</strong> Cost of losses in currency</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Analysis Reports</h4>
                            <ul>
                                <li>Loss by Process/Step</li>
                                <li>Loss by Product Category</li>
                                <li>Loss Trend Over Time</li>
                                <li>Top 10 Loss Contributors</li>
                                <li>By-product Recovery Rate</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 5: TRANSIENT MATERIALS
                 ============================================================ -->
            <section id="transient">
                <h2>5. Transient Materials & Equipment</h2>
                <p>Handle materials that exist temporarily during processing and manage equipment capacity for production planning.</p>

                <!-- Transient Materials -->
                <div class="card">
                    <h3>5.1 Transient Materials</h3>
                    <p>Materials created and consumed within the same production run, never stored in inventory:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Characteristic</th>
                                <th>Regular Product</th>
                                <th>Transient Material</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Inventory</strong></td>
                                <td>Tracked in stock</td>
                                <td>Never in inventory</td>
                            </tr>
                            <tr>
                                <td><strong>Storage</strong></td>
                                <td>Stored between steps</td>
                                <td>Immediate consumption</td>
                            </tr>
                            <tr>
                                <td><strong>Batch Tracking</strong></td>
                                <td>Full batch/lot</td>
                                <td>Linked to parent batch</td>
                            </tr>
                            <tr>
                                <td><strong>Costing</strong></td>
                                <td>Valued independently</td>
                                <td>Cost flows to final output</td>
                            </tr>
                            <tr>
                                <td><strong>Example</strong></td>
                                <td>Coconut Oil (stored)</td>
                                <td>Hot extract (before cooling)</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="flow-diagram">
                        <div class="flow-box">
                            <strong>Step 1</strong><br>
                            <small>Extraction</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #fff3e0; border: 2px dashed var(--warning-color);">
                            <strong>TRANSIENT</strong><br>
                            <small>Hot Extract</small><br>
                            <small>(Not stored)</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box">
                            <strong>Step 2</strong><br>
                            <small>Cooling</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #e8f5e9;">
                            <strong>Final Product</strong><br>
                            <small>Stored in Inventory</small>
                        </div>
                    </div>
                </div>

                <!-- Equipment Management -->
                <div class="card">
                    <h3>5.2 Equipment Management</h3>
                    <p>Track equipment used in manufacturing for capacity planning and maintenance:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Equipment Code</strong></td>
                                <td>Unique identifier</td>
                                <td>EQ-EXTRACTOR-001</td>
                            </tr>
                            <tr>
                                <td><strong>Name</strong></td>
                                <td>Descriptive name</td>
                                <td>Steam Distillation Unit #1</td>
                            </tr>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>Category of equipment</td>
                                <td>EXTRACTOR, MIXER, DRYER</td>
                            </tr>
                            <tr>
                                <td><strong>Capacity</strong></td>
                                <td>Maximum throughput</td>
                                <td>100 kg/batch, 50 L/hour</td>
                            </tr>
                            <tr>
                                <td><strong>Location</strong></td>
                                <td>Physical location</td>
                                <td>Plant A, Zone 2</td>
                            </tr>
                            <tr>
                                <td><strong>Status</strong></td>
                                <td>Current availability</td>
                                <td>AVAILABLE, IN_USE, MAINTENANCE</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Capacity Planning -->
                <div class="card">
                    <h3>5.3 Capacity Planning</h3>
                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Equipment Capacity</h4>
                            <ul>
                                <li><strong>Max Batch Size:</strong> Volume/weight limit</li>
                                <li><strong>Min Batch Size:</strong> Minimum efficient run</li>
                                <li><strong>Cycle Time:</strong> Time per batch</li>
                                <li><strong>Setup Time:</strong> Changeover time</li>
                                <li><strong>Cleaning Time:</strong> Between batches</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Planning Features</h4>
                            <ul>
                                <li>Equipment availability calendar</li>
                                <li>Scheduled maintenance windows</li>
                                <li>Capacity utilization reports</li>
                                <li>Bottleneck identification</li>
                                <li>Production scheduling</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Maintenance -->
                <div class="card">
                    <h3>5.4 Equipment Maintenance</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Maintenance Type</th>
                                <th>Trigger</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">PREVENTIVE</span></td>
                                <td>Scheduled interval (time/usage)</td>
                                <td>Regular servicing, part replacement</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">CORRECTIVE</span></td>
                                <td>Breakdown or malfunction</td>
                                <td>Repair to restore function</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">CALIBRATION</span></td>
                                <td>Scheduled or after repair</td>
                                <td>Verify and adjust accuracy</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">CLEANING</span></td>
                                <td>Between batches/products</td>
                                <td>Prevent cross-contamination</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 6: PACKAGING
                 ============================================================ -->
            <section id="packaging">
                <h2>6. Packaging</h2>
                <p>Manage packaging materials, configurations, and the packaging process as part of manufacturing.</p>

                <!-- Packaging as Product Type -->
                <div class="card">
                    <h3>6.1 Packaging Materials</h3>
                    <p>Packaging items are tracked as a product type (PACKAGING) with special attributes:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Attribute</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Container Type</strong></td>
                                <td>Physical form</td>
                                <td>Bottle, Jar, Pouch, Box, Drum</td>
                            </tr>
                            <tr>
                                <td><strong>Material</strong></td>
                                <td>Container material</td>
                                <td>Glass, PET, HDPE, Cardboard</td>
                            </tr>
                            <tr>
                                <td><strong>Capacity</strong></td>
                                <td>Volume/weight it holds</td>
                                <td>500ml, 1L, 5kg</td>
                            </tr>
                            <tr>
                                <td><strong>Closure Type</strong></td>
                                <td>Cap/seal type</td>
                                <td>Screw cap, Flip top, Seal</td>
                            </tr>
                            <tr>
                                <td><strong>Label Required</strong></td>
                                <td>Labeling needs</td>
                                <td>Pre-printed, Blank, None</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Packaging BOM -->
                <div class="card">
                    <h3>6.2 Packaging Bill of Materials</h3>
                    <p>Define what packaging materials are needed per finished product:</p>

                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 20px;">
                        <h4 style="margin-top: 0;">Product: Coconut Oil 500ml</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Packaging Item</th>
                                    <th>Quantity</th>
                                    <th>Unit</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Glass Bottle 500ml</td>
                                    <td>1</td>
                                    <td>piece</td>
                                </tr>
                                <tr>
                                    <td>Metal Screw Cap</td>
                                    <td>1</td>
                                    <td>piece</td>
                                </tr>
                                <tr>
                                    <td>Product Label</td>
                                    <td>1</td>
                                    <td>piece</td>
                                </tr>
                                <tr>
                                    <td>Shrink Wrap Seal</td>
                                    <td>1</td>
                                    <td>piece</td>
                                </tr>
                                <tr>
                                    <td>Carton Box (12-pack)</td>
                                    <td>0.0833</td>
                                    <td>piece</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Packaging Process -->
                <div class="card">
                    <h3>6.3 Packaging as Process Step</h3>
                    <p>Packaging can be defined as a step in the manufacturing bom:</p>

                    <div class="flow-diagram">
                        <div class="flow-box">
                            <strong>Bulk Product</strong><br>
                            <small>Coconut Oil 50L</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box highlight">
                            <strong>PACKAGING Step</strong><br>
                            <small>Fill + Cap + Label</small>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="flow-box" style="background: #e8f5e9;">
                            <strong>Packed Units</strong><br>
                            <small>100 × 500ml bottles</small>
                        </div>
                    </div>

                    <h4>Packaging Step Inputs</h4>
                    <ul>
                        <li>Bulk product (from previous step)</li>
                        <li>Primary packaging (bottles, jars)</li>
                        <li>Secondary packaging (boxes, cartons)</li>
                        <li>Labels and inserts</li>
                        <li>Closures and seals</li>
                    </ul>
                </div>

                <!-- Label Management -->
                <div class="card">
                    <h3>6.4 Label Information</h3>
                    <p>Track what information goes on product labels:</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Required Label Fields</h4>
                            <ul>
                                <li>Product name</li>
                                <li>Net weight/volume</li>
                                <li>Ingredients list</li>
                                <li>Batch/Lot number</li>
                                <li>Manufacturing date</li>
                                <li>Expiry/Best before date</li>
                                <li>Manufacturer details</li>
                                <li>Storage instructions</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Dynamic Label Data</h4>
                            <ul>
                                <li>Batch code (from system)</li>
                                <li>Production date (auto)</li>
                                <li>Expiry date (calculated)</li>
                                <li>QR/Barcode (generated)</li>
                                <li>Nutritional info (per product)</li>
                                <li>Regulatory certifications</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 7: REGULATORY COMPLIANCE
                 ============================================================ -->
            <section id="compliance">
                <h2>7. Regulatory Compliance</h2>
                <p>Support for industry regulations, certifications, and compliance requirements across different jurisdictions.</p>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9878;</span>
                    <div><strong>Compliance Note:</strong> This system provides tools to support compliance. Actual regulatory requirements vary by industry, product, and jurisdiction. Consult relevant authorities for specific requirements.</div>
                </div>

                <!-- Compliance Areas -->
                <div class="card">
                    <h3>7.1 Compliance Areas</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Area</th>
                                <th>Description</th>
                                <th>System Support</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-primary">TRACEABILITY</span></td>
                                <td>Track products from source to consumer</td>
                                <td>Full batch genealogy, forward/backward trace</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">QUALITY</span></td>
                                <td>Meet quality standards (ISO, GMP)</td>
                                <td>QC checkpoints, parameter tracking, COA</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-warning">LABELING</span></td>
                                <td>Accurate product information</td>
                                <td>Label templates, required fields</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-info">RECALL</span></td>
                                <td>Ability to recall products</td>
                                <td>Batch tracking, customer shipment links</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">DOCUMENTATION</span></td>
                                <td>Maintain required records</td>
                                <td>Audit logs, certificates, reports</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Certifications -->
                <div class="card">
                    <h3>7.2 Certification Tracking</h3>
                    <p>Track certifications at product, process, or facility level:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Certification Type</th>
                                <th>Examples</th>
                                <th>Tracked Info</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Quality Management</strong></td>
                                <td>ISO 9001, ISO 22000</td>
                                <td>Certificate number, validity, scope</td>
                            </tr>
                            <tr>
                                <td><strong>Food Safety</strong></td>
                                <td>Certification, FDA, HACCP</td>
                                <td>License number, renewal date</td>
                            </tr>
                            <tr>
                                <td><strong>Organic</strong></td>
                                <td>USDA Organic, EU Organic</td>
                                <td>Certifying body, product scope</td>
                            </tr>
                            <tr>
                                <td><strong>Religious</strong></td>
                                <td>Halal, Kosher</td>
                                <td>Certifying authority, products covered</td>
                            </tr>
                            <tr>
                                <td><strong>Environmental</strong></td>
                                <td>ISO 14001, Fair Trade</td>
                                <td>Certification level, audit dates</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Audit Trail -->
                <div class="card">
                    <h3>7.3 Audit Trail</h3>
                    <p>Complete audit trail for regulatory inspections:</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>What's Logged</h4>
                            <ul>
                                <li>All data changes (who, when, what)</li>
                                <li>Production activities</li>
                                <li>QC results and decisions</li>
                                <li>Inventory movements</li>
                                <li>User actions</li>
                                <li>System events</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Audit Features</h4>
                            <ul>
                                <li>Immutable log records</li>
                                <li>Timestamp with timezone</li>
                                <li>User identification</li>
                                <li>Before/after values</li>
                                <li>Reason for change (optional)</li>
                                <li>Export for auditors</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Recall Management -->
                <div class="card">
                    <h3>7.4 Recall Management</h3>
                    <p>Steps for executing a product recall:</p>

                    <ol>
                        <li><strong>Identify Affected Batches:</strong> Use backward trace to find source of issue</li>
                        <li><strong>Scope Assessment:</strong> Use forward trace to find all affected products</li>
                        <li><strong>Customer Impact:</strong> Identify customers who received affected batches</li>
                        <li><strong>Quarantine:</strong> Block remaining inventory from further use/sale</li>
                        <li><strong>Notification:</strong> Generate recall notices with batch details</li>
                        <li><strong>Tracking:</strong> Track returns and destruction of recalled product</li>
                        <li><strong>Documentation:</strong> Complete audit trail of recall process</li>
                    </ol>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 8: REPORTING & ANALYTICS
                 ============================================================ -->
            <section id="reporting">
                <h2>8. Reporting & Analytics</h2>
                <p>Comprehensive reporting capabilities for operational insights, management decisions, and regulatory compliance.</p>

                <!-- Report Categories -->
                <div class="card">
                    <h3>8.1 Report Categories</h3>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Production Reports</h4>
                            <ul>
                                <li>Daily Production Summary</li>
                                <li>Production Order Status</li>
                                <li>Yield Analysis by Product</li>
                                <li>Process Efficiency Report</li>
                                <li>Equipment Utilization</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Inventory Reports</h4>
                            <ul>
                                <li>Stock Status Report</li>
                                <li>Stock Movement History</li>
                                <li>Aging Analysis</li>
                                <li>Expiry Alert Report</li>
                                <li>Reorder Recommendations</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Quality Reports</h4>
                            <ul>
                                <li>QC Results Summary</li>
                                <li>Rejection Analysis</li>
                                <li>Rework Statistics</li>
                                <li>Certificate of Analysis</li>
                                <li>Non-Conformance Report</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Cost Reports</h4>
                            <ul>
                                <li>Product Cost Analysis</li>
                                <li>Variance Report</li>
                                <li>Loss/Wastage Report</li>
                                <li>Profitability by Product</li>
                                <li>Cost Trend Analysis</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Key Metrics -->
                <div class="card">
                    <h3>8.2 Key Performance Indicators (KPIs)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>KPI</th>
                                <th>Formula</th>
                                <th>Target</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Overall Equipment Effectiveness (OEE)</strong></td>
                                <td>Availability × Performance × Quality</td>
                                <td>&gt; 85%</td>
                            </tr>
                            <tr>
                                <td><strong>Yield Rate</strong></td>
                                <td>Actual Output / Expected Output × 100</td>
                                <td>&gt; 95%</td>
                            </tr>
                            <tr>
                                <td><strong>First Pass Yield</strong></td>
                                <td>Units Passing First QC / Total Units × 100</td>
                                <td>&gt; 98%</td>
                            </tr>
                            <tr>
                                <td><strong>Inventory Turnover</strong></td>
                                <td>Cost of Goods Sold / Average Inventory</td>
                                <td>Industry dependent</td>
                            </tr>
                            <tr>
                                <td><strong>On-Time Delivery</strong></td>
                                <td>Orders Delivered On-Time / Total Orders × 100</td>
                                <td>&gt; 95%</td>
                            </tr>
                            <tr>
                                <td><strong>Scrap Rate</strong></td>
                                <td>Scrapped Material / Total Material × 100</td>
                                <td>&lt; 2%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Dashboard -->
                <div class="card">
                    <h3>8.3 Dashboard Widgets</h3>
                    <div class="card-grid">
                        <div class="feature-card">
                            <div class="feature-icon">&#128200;</div>
                            <h3>Production Today</h3>
                            <p>Orders completed, in-progress, pending</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">&#128230;</div>
                            <h3>Stock Alerts</h3>
                            <p>Low stock, expiring soon, overstock</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">&#9989;</div>
                            <h3>QC Status</h3>
                            <p>Pass rate, items on hold, pending tests</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">&#128176;</div>
                            <h3>Cost Summary</h3>
                            <p>Daily costs, variances, trends</p>
                        </div>
                    </div>
                </div>

                <!-- Export Formats -->
                <div class="card">
                    <h3>8.4 Export Options</h3>
                    <p>Reports can be exported in multiple formats:</p>
                    <ul>
                        <li><strong>PDF:</strong> Formatted reports for printing/sharing</li>
                        <li><strong>Excel:</strong> Data for further analysis</li>
                        <li><strong>CSV:</strong> Raw data export</li>
                        <li><strong>JSON:</strong> API integration</li>
                    </ul>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- ============================================================
                 SECTION 9: CLIENT CONFIGURATION & SETUP
                 ============================================================ -->
            <section id="client-setup">
                <h2>9. Client Configuration & Setup</h2>
                <p>The system is designed to be configurable for different clients and industries without code changes.</p>

                <!-- Company Management -->
                <div class="card">
                    <h3>9.1 Company Management (Hierarchical)</h3>
                    <p>Organizations can set up a hierarchical company structure where parent companies can share configurations with sub-companies.</p>

                    <h4>Company Hierarchy Structure</h4>
                    <div class="info-box" style="margin-bottom: 16px;">
                        <pre style="margin: 0; font-family: monospace; font-size: 0.9rem;">
Parent Company (ABC Corporation)
├── Sub-Company 1 (ABC Manufacturing)
│   ├── Division A (ABC Plant North)
│   └── Division B (ABC Plant South)
├── Sub-Company 2 (ABC Distribution)
└── Sub-Company 3 (ABC Retail)
                        </pre>
                    </div>

                    <h4>Company Master Fields</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Company Code</strong></td>
                                <td>String (Required)</td>
                                <td>Unique identifier for the company (e.g., ABC, XYZ-MFG)</td>
                            </tr>
                            <tr>
                                <td><strong>Company Name</strong></td>
                                <td>String (Required)</td>
                                <td>Full legal or display name</td>
                            </tr>
                            <tr>
                                <td><strong>Parent Company</strong></td>
                                <td>Reference</td>
                                <td>Link to parent company (null for root company)</td>
                            </tr>
                            <tr>
                                <td><strong>Company Type</strong></td>
                                <td>Enum</td>
                                <td>PARENT, SUBSIDIARY, DIVISION, BRANCH, FRANCHISE</td>
                            </tr>
                            <tr>
                                <td><strong>Legal Entity</strong></td>
                                <td>Boolean</td>
                                <td>Whether this is a separate legal entity</td>
                            </tr>
                            <tr>
                                <td><strong>Tax ID / Registration</strong></td>
                                <td>String</td>
                                <td>Tax identification or business registration number</td>
                            </tr>
                            <tr>
                                <td><strong>Address</strong></td>
                                <td>Object</td>
                                <td>Registered address (street, city, state, country, postal)</td>
                            </tr>
                            <tr>
                                <td><strong>Contact Info</strong></td>
                                <td>Object</td>
                                <td>Phone, email, website</td>
                            </tr>
                            <tr>
                                <td><strong>Currency</strong></td>
                                <td>String</td>
                                <td>Default currency for this company</td>
                            </tr>
                            <tr>
                                <td><strong>Timezone</strong></td>
                                <td>String</td>
                                <td>Operating timezone</td>
                            </tr>
                            <tr>
                                <td><strong>Fiscal Year Start</strong></td>
                                <td>Date</td>
                                <td>Start of fiscal year (e.g., Jan 1, Apr 1)</td>
                            </tr>
                            <tr>
                                <td><strong>Status</strong></td>
                                <td>Enum</td>
                                <td>ACTIVE, INACTIVE, SUSPENDED</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Configuration Inheritance -->
                <div class="card">
                    <h3>9.2 Configuration Inheritance</h3>
                    <p>Sub-companies can inherit configurations from their parent company, with the ability to override specific settings at each level.</p>

                    <h4>Inheritance Modes</h4>
                    <div class="grid-3">
                        <div class="info-box">
                            <h5 style="color: var(--primary);">🔗 INHERIT</h5>
                            <p>Use parent company's configuration exactly as-is. Any changes at parent level automatically apply to sub-company.</p>
                        </div>
                        <div class="info-box">
                            <h5 style="color: var(--warning);">📝 EXTEND</h5>
                            <p>Start with parent's configuration but allow adding more items. Cannot remove inherited items.</p>
                        </div>
                        <div class="info-box">
                            <h5 style="color: var(--danger);">🔓 OVERRIDE</h5>
                            <p>Completely independent configuration. Parent changes do not affect this company.</p>
                        </div>
                    </div>

                    <h4>Configurable Items by Inheritance</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Configuration Item</th>
                                <th>Supports Inherit</th>
                                <th>Supports Extend</th>
                                <th>Supports Override</th>
                                <th>Default Mode</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Item Categories</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>EXTEND</td>
                            </tr>
                            <tr>
                                <td><strong>Operations Catalog</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>INHERIT</td>
                            </tr>
                            <tr>
                                <td><strong>Classification Attributes</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>INHERIT</td>
                            </tr>
                            <tr>
                                <td><strong>Source Types</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>INHERIT</td>
                            </tr>
                            <tr>
                                <td><strong>Code Patterns</strong></td>
                                <td>✓</td>
                                <td>✗</td>
                                <td>✓</td>
                                <td>INHERIT</td>
                            </tr>
                            <tr>
                                <td><strong>Units of Measure</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>INHERIT</td>
                            </tr>
                            <tr>
                                <td><strong>Approval Workflows</strong></td>
                                <td>✓</td>
                                <td>✗</td>
                                <td>✓</td>
                                <td>OVERRIDE</td>
                            </tr>
                            <tr>
                                <td><strong>User Roles & Permissions</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>EXTEND</td>
                            </tr>
                            <tr>
                                <td><strong>Report Templates</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>EXTEND</td>
                            </tr>
                            <tr>
                                <td><strong>Quality Parameters</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>EXTEND</td>
                            </tr>
                            <tr>
                                <td><strong>Delay Categories</strong></td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>✓</td>
                                <td>INHERIT</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Configuration Inheritance Example</h4>
                    <div class="info-box">
                        <pre style="margin: 0; font-family: monospace; font-size: 0.85rem;">
// Parent Company Configuration
{
  "company": "ABC Corporation",
  "operations": ["RECV", "GRADE", "SORT", "PACK", "QC", "STORE"],
  "categories": ["Electronics", "Components"]
}

// Sub-Company with EXTEND mode for categories
{
  "company": "ABC Manufacturing",
  "parent": "ABC Corporation",
  "operationsMode": "INHERIT",     // Uses parent's operations exactly
  "categoriesMode": "EXTEND",      // Adds to parent's categories
  "categories": ["PCB Assembly"]   // Added locally (inherits Electronics, Components)
}

// Effective configuration for ABC Manufacturing:
{
  "operations": ["RECV", "GRADE", "SORT", "PACK", "QC", "STORE"],  // From parent
  "categories": ["Electronics", "Components", "PCB Assembly"]      // Parent + local
}
                        </pre>
                    </div>
                </div>

                <!-- Company-Level Data Isolation -->
                <div class="card">
                    <h3>9.3 Company-Level Data Isolation</h3>
                    <p>While configurations can be shared, transactional data is always isolated per company.</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Shared (Via Configuration)</h4>
                            <ul>
                                <li>Item Categories</li>
                                <li>Operations Catalog</li>
                                <li>Classification Attributes</li>
                                <li>Code Patterns & Sequences</li>
                                <li>Units of Measure</li>
                                <li>Quality Parameters</li>
                                <li>Approval Workflows</li>
                                <li>Report Templates</li>
                                <li>User Role Definitions</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Always Isolated (Per Company)</h4>
                            <ul>
                                <li>Product Master Records</li>
                                <li>Inventory & Stock</li>
                                <li>Production Orders</li>
                                <li>Batch/Lot Records</li>
                                <li>Purchase & Sales Orders</li>
                                <li>Supplier & Customer Data</li>
                                <li>User Accounts</li>
                                <li>Audit Logs</li>
                                <li>Financial Transactions</li>
                            </ul>
                        </div>
                    </div>

                    <h4>Cross-Company Operations</h4>
                    <p>For organizations with multiple companies, the following inter-company operations are supported:</p>
                    <table>
                        <thead>
                            <tr>
                                <th>Operation</th>
                                <th>Description</th>
                                <th>Requirements</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Inter-Company Transfer</strong></td>
                                <td>Move inventory between companies within same parent</td>
                                <td>Both companies must be active, transfer workflow enabled</td>
                            </tr>
                            <tr>
                                <td><strong>Consolidated Reporting</strong></td>
                                <td>View aggregated reports across multiple companies</td>
                                <td>User must have access to all companies in report scope</td>
                            </tr>
                            <tr>
                                <td><strong>Shared Product Catalog</strong></td>
                                <td>Reference products from parent company</td>
                                <td>Product sharing must be enabled at parent level</td>
                            </tr>
                            <tr>
                                <td><strong>Cross-Company Orders</strong></td>
                                <td>Create purchase/sales orders between related companies</td>
                                <td>Inter-company trading relationship must be configured</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Multi-Tenant Architecture -->
                <div class="card">
                    <h3>9.4 Multi-Tenant Architecture</h3>
                    <p>The system supports multiple independent organizations (tenants), each with their own company hierarchy and isolated data.</p>

                    <div class="grid-2">
                        <div class="info-box">
                            <h4>Tenant-Level Isolation</h4>
                            <ul>
                                <li>Complete data separation between tenants</li>
                                <li>Independent company hierarchies per tenant</li>
                                <li>Separate databases or schemas per tenant</li>
                                <li>Custom domain/subdomain support</li>
                                <li>Tenant-specific branding options</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Company-Level Configuration</h4>
                            <ul>
                                <li>Code formats and sequences</li>
                                <li>Units of measure</li>
                                <li>Workflow rules</li>
                                <li>Approval hierarchies</li>
                                <li>Report templates</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Code Configuration -->
                <div class="card">
                    <h3>9.5 Code Format Configuration</h3>
                    <p>Clients can define their own code patterns:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Code Type</th>
                                <th>Pattern Elements</th>
                                <th>Example Format</th>
                                <th>Example Output</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Product Code</strong></td>
                                <td>[COMPANY]-[CATEGORY]-[TYPE]-[SEQ]</td>
                                <td>ABC-OIL-FG-####</td>
                                <td>ABC-OIL-FG-0001</td>
                            </tr>
                            <tr>
                                <td><strong>Batch Code</strong></td>
                                <td>[DATE]-[PRODUCT]-[SEQ]</td>
                                <td>YYYYMMDD-XXX-###</td>
                                <td>20240115-VCO-001</td>
                            </tr>
                            <tr>
                                <td><strong>Production Order</strong></td>
                                <td>[PREFIX]-[YEAR]-[SEQ]</td>
                                <td>PO-YYYY-######</td>
                                <td>PO-2024-000152</td>
                            </tr>
                            <tr>
                                <td><strong>BOM Code</strong></td>
                                <td>[PRODUCT]-[VERSION]</td>
                                <td>XXX-RCP-V##</td>
                                <td>VCO-RCP-V02</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Operations Catalog -->
                <div class="card">
                    <h3>9.6 Operations Catalog</h3>
                    <p>Define reusable manufacturing operations that can be used in boms. Each operation represents a discrete step in the manufacturing process.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Description</th>
                                <th>Example Values</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Code</strong></td>
                                <td>Short unique identifier for the operation</td>
                                <td>GRADE, SORT, PACK, MIX, CLEAN, QC</td>
                            </tr>
                            <tr>
                                <td><strong>Name</strong></td>
                                <td>Descriptive name of the operation</td>
                                <td>Grading, Sorting, Packaging, Mixing</td>
                            </tr>
                            <tr>
                                <td><strong>Process Type</strong></td>
                                <td>The manufacturing pattern used</td>
                                <td>TRANSFORM, SPLIT, COMBINE, COMPLEX</td>
                            </tr>
                            <tr>
                                <td><strong>Default TAT</strong></td>
                                <td>Typical time to complete this operation</td>
                                <td>2 hours, 30 minutes, 1 day</td>
                            </tr>
                            <tr>
                                <td><strong>Default Yield %</strong></td>
                                <td>Expected output percentage</td>
                                <td>99.3%, 99.5%, 100%</td>
                            </tr>
                            <tr>
                                <td><strong>Applicable Categories</strong></td>
                                <td>Product categories this operation applies to</td>
                                <td>All, Products only, Liquids only</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Common Operations</h4>
                    <div class="grid-3">
                        <div class="info-box">
                            <h4>Input Operations</h4>
                            <ul>
                                <li>RECV - Receiving & Inspection</li>
                                <li>QC - Quality Control</li>
                                <li>STORE - Storage / Aging</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Processing Operations</h4>
                            <ul>
                                <li>GRADE - Grading / Classification</li>
                                <li>SORT - Sorting / Separation</li>
                                <li>CLEAN - Cleaning / Destoning</li>
                                <li>MIX - Mixing / Blending</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4>Output Operations</h4>
                            <ul>
                                <li>PACK - Packaging</li>
                                <li>LABEL - Labeling</li>
                                <li>SHIP - Shipping Prep</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Classification Attributes -->
                <div class="card">
                    <h3>9.7 Classification Attributes</h3>
                    <p>Define custom attributes to classify products (grades, quality levels, sizes, etc.). These can be used in product codes, filtering, and reporting.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Attribute Group</th>
                                <th>Purpose</th>
                                <th>Example Values</th>
                                <th>Applies To</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Grade</strong></td>
                                <td>Quality grade after grading operation</td>
                                <td>A, B, C, D or Premium, Standard, Economy</td>
                                <td>INTERMEDIATE, FINISHED_GOOD</td>
                            </tr>
                            <tr>
                                <td><strong>Size Class</strong></td>
                                <td>Physical size classification</td>
                                <td>Large, Medium, Small or 8mm, 7mm, 6mm</td>
                                <td>RAW_MATERIAL, INTERMEDIATE</td>
                            </tr>
                            <tr>
                                <td><strong>Quality</strong></td>
                                <td>Post-sort quality designation</td>
                                <td>Bold, Split, Damaged, Reject</td>
                                <td>INTERMEDIATE, FINISHED_GOOD</td>
                            </tr>
                            <tr>
                                <td><strong>Color</strong></td>
                                <td>Visual color classification</td>
                                <td>Light, Medium, Dark</td>
                                <td>All</td>
                            </tr>
                            <tr>
                                <td><strong>Origin Type</strong></td>
                                <td>Source classification for raw materials</td>
                                <td>Direct, Auction, Contract, Import</td>
                                <td>RM</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h4>Using Attributes in Product Codes</h4>
                        <p>Attributes can be included in auto-generated product codes. For example:</p>
                        <ul>
                            <li><code>INT-PROD-A1</code> - INTERMEDIATE Product, Grade A, Quality 1</li>
                            <li><code>FIN-PROD-A1-LG</code> - FINISHED_GOOD Product, Grade A, Quality 1, Large</li>
                            <li><code>RAW-PROD-AUC</code> - RAW_MATERIAL Product, Auction source</li>
                        </ul>
                    </div>
                </div>

                <!-- Source Types -->
                <div class="card">
                    <h3>9.8 Source Types</h3>
                    <p>Define where raw materials can be sourced from. Used for procurement tracking and traceability.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Source Type</th>
                                <th>Description</th>
                                <th>Requires Vendor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>DIRECT</code></td>
                                <td>Direct Purchase</td>
                                <td>Direct from producer/manufacturer</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><code>AUCTION</code></td>
                                <td>Auction / Market</td>
                                <td>Purchased from auction or commodity market</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>CONTRACT</code></td>
                                <td>Contract Farming</td>
                                <td>Pre-agreed contract with producer</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><code>TRADER</code></td>
                                <td>Trader / Distributor</td>
                                <td>Through intermediary trader</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><code>IMPORT</code></td>
                                <td>Import</td>
                                <td>Imported from overseas</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><code>INTERNAL</code></td>
                                <td>Internal Production</td>
                                <td>Produced internally from other processes</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Workflow Configuration -->
                <div class="card">
                    <h3>9.9 Workflow Configuration</h3>
                    <p>Configure approval workflows and business rules:</p>

                    <h4>Configurable Rules</h4>
                    <ul>
                        <li><strong>Production Order Approval:</strong> Who can approve, limits by value/quantity</li>
                        <li><strong>QC Disposition:</strong> Who can approve rework, scrap, use-as-is</li>
                        <li><strong>Stock Adjustments:</strong> Approval required above threshold</li>
                        <li><strong>BOM Changes:</strong> Version control and approval</li>
                        <li><strong>Price Changes:</strong> Standard cost update approval</li>
                    </ul>
                </div>

                <!-- Additional Setup Documentation -->
                <div class="card">
                    <h3>9.10 Additional Setup & Technical Documentation</h3>
                    <p>For detailed information on user roles, database schema, and data import, see the separate guide:</p>
                    <div style="margin-top: 16px;">
                        <a href="client-data-import.html" style="display: inline-flex; align-items: center; gap: 8px; background: var(--primary-color); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500;">
                            View Client Setup, Data Model & Import Guide &rarr;
                        </a>
                    </div>
                    <p style="margin-top: 16px; color: var(--text-muted); font-size: 0.9rem;">Includes: User Roles & Permissions, Initial Setup Checklist, Database Schema, API Structure, and Excel Import Templates</p>
                </div>
            </section>

            <!-- Sections 16-18 moved to client-data-import.html -->

            <!-- ==================== FOOTER ==================== -->
            <section style="text-align: center; padding: 40px 0; color: var(--text-muted);">
                <p><strong>Product & Manufacturing Management System</strong></p>
                <p>Documentation v2.0</p>
            </section>

        </main>
    </div>

    <!-- ========================================
         JAVASCRIPT
         ======================================== -->
    <script>
        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active nav link on scroll
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-link');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
